<?xml version="1.0" encoding="UTF-8"?>
<AdsDefinition xmlns="http://schemas.radixware.org/adsdef.xsd" xmlns:xsc="http://schemas.radixware.org/xscml.xsd" FormatVersion="0">
  <AdsClassDefinition Id="adcESHXGQZDWJCJ3KLYYC6KX6SYJI" Name="MetricCalculateUtils" Type="3" Environment="server">
    <AccessRules IsPublished="false">
      <Transparence Extendable="false"/>
    </AccessRules>
    <Headers>
      <Src Name="HeaderadcESHXGQZDWJCJ3KLYYC6KX6SYJI">
        <xsc:Item>
          <xsc:Java>import org.radixware.kernel.server.exceptions.FilterParamNotDefinedException;
import java.util.HashMap;
import java.util.Map;
import org.radixware.kernel.server.types.QueryTranslateResult;
import org.radixware.kernel.server.dbq.SqmlTranslator;</xsc:Java>
        </xsc:Item>
      </Src>
    </Headers>
    <Bodies>
      <Src Name="BodyadcESHXGQZDWJCJ3KLYYC6KX6SYJI"/>
    </Bodies>
    <MethodGroup Id="cmgXFZD5FGJERE3PKI5USHQNTE6YM" Name="Root"/>
    <PropertyGroup Id="cpgUSKK3JU5MVCJZMXBQ2NNO6NDYA" Name="Root"/>
    <Properties/>
    <Methods>
      <Method Id="mthXCNK2GK5VNDLDDZ5A7G4FMFBZA" Name="calculateInterval" Nature="0" IsOverride="false">
        <AccessRules IsPublished="false"/>
        <Parameters>
          <Parameter Name="metricTypeId" Id="mprM5UTK5O7GRHNNNHKRYJXT2BLBI">
            <Type TypeId="401" extStr="int"/>
          </Parameter>
          <Parameter Name="prevExecTime" Id="mprYUNSBIX6NNBOVDSN3TU5BMTIWM">
            <Type TypeId="12"/>
          </Parameter>
          <Parameter Name="curExecTime" Id="mpr5XIYREX2TNA7XJCMD25IYNKN2M">
            <Type TypeId="12"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="411" Path="adcNKEVSFTMMFD6VJVO5E4UO5KDHI"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcNKEVSFTMMFD6VJVO5E4UO5KDHI"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> metricVal = null;
final </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> metricType = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM mth_loadByPK_________________" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(metricTypeId, false);
if (metricType.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM col2JJNBDFWIVG47OCFOCMCXVBFXI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> == </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acsF47GG6XUPJH5ZKZFOWDK7GI7LE aciJG57PBLAWRCQVG2HZLZWKTSJME" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.Value) {//user SQL metric 
    Double d = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcESHXGQZDWJCJ3KLYYC6KX6SYJI mthOAMCIUB36NAWTNNIOTQ34T7S2A" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(((</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aclQDZGCRNJLJCMTPNAHQR2NYZY6Q"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>) metricType).</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aclQDZGCRNJLJCMTPNAHQR2NYZY6Q col3MOMAPD33ZDATALTAP45PLIN5Y" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, metricType.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM colNS4TO66OSNH3DCZS64EDNL7VDU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, prevExecTime, curExecTime);       
    if (d == null) {
        </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthUVXH2WARWLOBDLJLAAMPGXSZKU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:EventCode StringId="mlsZ3DWC4IA2ZEWLL2LZP73VB7CXQ"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, metricType.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM colNS4TO66OSNH3DCZS64EDNL7VDU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.toString());
        d = 0;
    } else {
        metricVal = new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcTS3X67BRTBDK7GGP26KPMKP6KE mth4ENDGHWNJ5HCBKLTV5HXMH6GOE" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(null, d, curExecTime.getTime());
    }
} else if (metricType.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM col2JJNBDFWIVG47OCFOCMCXVBFXI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> == </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acsF47GG6XUPJH5ZKZFOWDK7GI7LE aciN5HFLHHNURAKVPKT6YEIJPSHAY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.Value) {
    final double val = ((</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aclZFOH5AAO5ZCRVDLVJJGQEPXTMU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>) metricType).</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aclZFOH5AAO5ZCRVDLVJJGQEPXTMU pruLQHRIQUNLZC2DJXETRM5QKOWMY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aclAPQMCEE7LJD5BJR2BJQWYGKJNE mth7XSYJBRK6JEF5BBSV4TU6BILFM" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>((</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aclZFOH5AAO5ZCRVDLVJJGQEPXTMU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>) metricType, prevExecTime, curExecTime);
    metricVal = new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcTS3X67BRTBDK7GGP26KPMKP6KE mth4ENDGHWNJ5HCBKLTV5HXMH6GOE" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(null, val, curExecTime.Time); 
} else if (metricType.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM col2JJNBDFWIVG47OCFOCMCXVBFXI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> == </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acsF47GG6XUPJH5ZKZFOWDK7GI7LE aciCAT24UCBKJFCVMBUMZUTVSLB2E" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.Value) {
    </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcFONHNOJX6JEG3JTWB4NEWREMWQ"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> val = ((</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="acl5EFI4BGH6JEFVEZWH6L2LSVQK4"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>) metricType).</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acl5EFI4BGH6JEFVEZWH6L2LSVQK4 pru6PA7ZCF6TVAM5HWW6FHC2T4J44" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aclZUPKE7H3JBCBPN7L6CCKBPB7ZA mthLRXDXQBWCFGMVBMVNJSTBES5XM" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>((</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="acl5EFI4BGH6JEFVEZWH6L2LSVQK4"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>) metricType, prevExecTime, curExecTime);
    if (val == null) {
        </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthUVXH2WARWLOBDLJLAAMPGXSZKU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:EventCode StringId="mlsYULSYRLR4RFB7JVPXQRK4JBBLE"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, metricType.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM colNS4TO66OSNH3DCZS64EDNL7VDU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.toString());
    } else {
        metricVal = new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcRF4NNLJCFRETZC4NEP3XLVK5BI mthZIZWLXWGJVANDCYYNL7NSLXVTA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(
                val.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcFONHNOJX6JEG3JTWB4NEWREMWQ prdPMN62R4A3ZEIXDT5QZNHYBRRZQ" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> == null ? null : val.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcFONHNOJX6JEG3JTWB4NEWREMWQ prdPMN62R4A3ZEIXDT5QZNHYBRRZQ" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.doubleValue(),
                val.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcFONHNOJX6JEG3JTWB4NEWREMWQ prd6ZNTDU7HANFVDIILT65HM4MHQA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> == null ? null : val.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcFONHNOJX6JEG3JTWB4NEWREMWQ prd6ZNTDU7HANFVDIILT65HM4MHQA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.doubleValue(),
                val.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcFONHNOJX6JEG3JTWB4NEWREMWQ prdQLLPTBZLJFGBPO54LHCGX2BML4" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>,
                prevExecTime == null ? curExecTime.Time : prevExecTime.Time,
                curExecTime.Time);
    }
} else {//application metric
    metricVal = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcESHXGQZDWJCJ3KLYYC6KX6SYJI mthP2PCR2BYOFCSFDPUSHEWBD3BV4" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(metricType.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM colNS4TO66OSNH3DCZS64EDNL7VDU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.longValue(), prevExecTime, curExecTime);
    if (metricVal == null) {
        </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthUVXH2WARWLOBDLJLAAMPGXSZKU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:EventCode StringId="mlsMMP56VNZA5B5TFG3FB2MXEJHYY"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, metricType.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM colNS4TO66OSNH3DCZS64EDNL7VDU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.toString());
    }
}
return metricVal;</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthP2PCR2BYOFCSFDPUSHEWBD3BV4" Name="calcAppMetric" Nature="0" IsOverride="false">
        <AccessRules IsPublished="false"/>
        <Parameters>
          <Parameter Name="metricTypeId" Id="mpr4XT67DZDZFA37EYKLYYHVTM56M">
            <Type TypeId="2"/>
          </Parameter>
          <Parameter Name="lastControlTime" Id="mprWV44OXQZDVDZHDQ4BSRTG7EOS4">
            <Type TypeId="12"/>
          </Parameter>
          <Parameter Name="curControlTime" Id="mprMEE67LEYQJAGRDOCYBBR2LDRTI">
            <Type TypeId="12"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="411" Path="adcNKEVSFTMMFD6VJVO5E4UO5KDHI"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> metricType = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM mth_loadByPK_________________" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(metricTypeId, true);
if(metricType instanceof </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aclIQCN5O35ZJHYRBCK4IE6RKQYRQ"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>) {
    </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aclIQCN5O35ZJHYRBCK4IE6RKQYRQ"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> eventMetricType = (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aclIQCN5O35ZJHYRBCK4IE6RKQYRQ"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>) metricType;
    return eventMetricType.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aclIQCN5O35ZJHYRBCK4IE6RKQYRQ mthBGY2OJS6LFCD5B3BNBHXUSGX6A" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(lastControlTime, curControlTime);
} else {
    </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aclJFUUR32PQ5BTLNMJVOAKUJZOUA"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> statMetricType = (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aclJFUUR32PQ5BTLNMJVOAKUJZOUA"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>) metricType;
    return statMetricType.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aclJFUUR32PQ5BTLNMJVOAKUJZOUA mthBS7ODJBINFEE3ESFD3EK7RWYPM" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(lastControlTime, curControlTime);
}</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthOAMCIUB36NAWTNNIOTQ34T7S2A" Name="calcUserQuery" Nature="0" IsOverride="false">
        <AccessRules IsPublished="false"/>
        <Parameters>
          <Parameter Name="userQuery" Id="mprPX3PTXMT6JHIHEYBF3TFYPTMDU">
            <Type TypeId="27"/>
          </Parameter>
          <Parameter Name="metricTypeId" Id="mprEEFBGLL6YJBMDBADSH72T4OXYA">
            <Type TypeId="2"/>
          </Parameter>
          <Parameter Name="lastControlTime" Id="mprC6AFS5BNCVDCTELMQX4LK4NMTY">
            <Type TypeId="12"/>
          </Parameter>
          <Parameter Name="curControlTime" Id="mprJPFWAY5E4FCUPPQLVYYDYWNDFU">
            <Type TypeId="12"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="400" extStr="java.lang.Double"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>if (userQuery == null) {
    return null;
}
final org.radixware.kernel.server.sqml.Sqml sqml;
try {
    org.radixware.schemas.xscml.SqmlDocument sqmlDoc = org.radixware.schemas.xscml.SqmlDocument.Factory.parse(userQuery.getCharacterStream());
    sqml = org.radixware.kernel.server.sqml.Sqml.Factory.loadFrom("", sqmlDoc.Sqml);
} catch (Exception ex) {
    </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthUALS3BVVSTNRDDXBABIFNQAAAE" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:EventCode StringId="mlsAHIEBHWPKFCRRMQDIQQY6M5RUE"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="221"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthI2EAXRIFRTNRDCISABIFNQAABA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(ex)));
    return null;   
}
QueryTranslateResult result = SqmlTranslator.translateSingleQuery(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcArte______________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcArte______________________ mthX22GMFYBKNC6RGIHJSGRQQ7K2A" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(), sqml, </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>); 
final Map&lt;</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, Object> paramValues = new HashMap&lt;</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, Object>();
paramValues.put(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcKDF543XQWZEI5DORWHNFIYCZ2A"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcKDF543XQWZEI5DORWHNFIYCZ2A mthGFAPI2TPWZEJHN436UQMWZIPZM" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acs563QRZVDBBFOJIHDROPZ6NROWQ aciC3NWY5INJVBYRJZM7GAJYDPWNI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.Value), curControlTime);
paramValues.put(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcKDF543XQWZEI5DORWHNFIYCZ2A"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcKDF543XQWZEI5DORWHNFIYCZ2A mthGFAPI2TPWZEJHN436UQMWZIPZM" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acs563QRZVDBBFOJIHDROPZ6NROWQ aci4B35LNXOUFCMRC3TKPPODMMACU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.Value), metricTypeId);
paramValues.put(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcKDF543XQWZEI5DORWHNFIYCZ2A"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcKDF543XQWZEI5DORWHNFIYCZ2A mthGFAPI2TPWZEJHN436UQMWZIPZM" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acs563QRZVDBBFOJIHDROPZ6NROWQ aciHOJ7COZO4ZGQHAPJRJV2KZIJ3M" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.Value), lastControlTime);
try {
    final java.sql.PreparedStatement statement = result.prepare(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcArte______________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcArte______________________ mthX22GMFYBKNC6RGIHJSGRQQ7K2A" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(), paramValues);
    try {
        java.sql.ResultSet rs = statement.executeQuery();
        if (rs.next()) {
            final Double d = rs.getDouble(1);
            return d;
        }
    } finally {
        statement.close();
    }
} catch (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axcG6PZC4JQPBAI5C7ZFKWL4SWGKA"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> exception) {
    </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthD6XIGP2SRPNRDCISABIFNQAABA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthI2EAXRIFRTNRDCISABIFNQAABA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(exception), </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acsTNLJBZADHTNRDIPGABQAQNO6EY aci4VSRGAWJBFEH3IAVZIWZJQVMTI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>);
} catch (FilterParamNotDefinedException exception) {
    </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthD6XIGP2SRPNRDCISABIFNQAABA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthI2EAXRIFRTNRDCISABIFNQAABA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(exception), </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acsTNLJBZADHTNRDIPGABQAQNO6EY aci4VSRGAWJBFEH3IAVZIWZJQVMTI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>);
}
return null;</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthBM5QZ4HJQVEQLMHH5NMBSQTLEY" Name="calculate" Nature="0" IsOverride="false">
        <AccessRules/>
        <Parameters>
          <Parameter Name="metricTypeId" Id="mprA22SW7TS4RAMTJT76Q3IVHVQUY">
            <Type TypeId="401" extStr="int"/>
          </Parameter>
          <Parameter Name="prevExecTime" Id="mprY7CPBORPN5CYNOEXTWRP34MF7M">
            <Type TypeId="12"/>
          </Parameter>
          <Parameter Name="curExecTime" Id="mprXUA3U2SZUJFILBHKYVGGWWFOBY">
            <Type TypeId="12"/>
          </Parameter>
          <Parameter Name="period" Id="mprLSFG2IH6ZJDN3OKVTCCCUAAZ3A">
            <Type TypeId="2"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="400" extStr="java.util.List">
          <xsc:GenericArguments>
            <xsc:Argument Alias="?">
              <xsc:Type TypeId="411" Path="adcNKEVSFTMMFD6VJVO5E4UO5KDHI"/>
            </xsc:Argument>
          </xsc:GenericArguments>
        </ReturnType>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>java.util.List&lt;</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcNKEVSFTMMFD6VJVO5E4UO5KDHI"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>> metricList = new java.util.ArrayList&lt;</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcNKEVSFTMMFD6VJVO5E4UO5KDHI"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>>();
</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="12"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> oldDate = new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="12"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(prevExecTime.getTime());
</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="12"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> newDate = new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="12"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(prevExecTime.getTime() + period.intValue() * 1000);

while (newDate.getTime() &lt;= curExecTime.getTime()) {
    </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcNKEVSFTMMFD6VJVO5E4UO5KDHI"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> mtrVal = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcESHXGQZDWJCJ3KLYYC6KX6SYJI mthXCNK2GK5VNDLDDZ5A7G4FMFBZA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(metricTypeId, oldDate, newDate);
    metricList.add(mtrVal);
    oldDate.setTime(oldDate.getTime() + period.intValue() * 1000);
    newDate.setTime(newDate.getTime() + period.intValue() * 1000);
}
return metricList;</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
    </Methods>
  </AdsClassDefinition>
</AdsDefinition>