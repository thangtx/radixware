<?xml version="1.0" encoding="UTF-8"?>
<AdsDefinition xmlns="http://schemas.radixware.org/adsdef.xsd" xmlns:xsc="http://schemas.radixware.org/xscml.xsd" FormatVersion="6">
  <AdsClassDefinition Id="afhG3IDEOPEB5FS7EQ73B5RDFW5AE" Name="AbstractMessageGroupChanges4Failed" Type="19">
    <AccessRules IsAbstract="true"/>
    <Headers>
      <Src Name="HeaderafhG3IDEOPEB5FS7EQ73B5RDFW5AE"/>
    </Headers>
    <Bodies>
      <Src Name="BodyafhG3IDEOPEB5FS7EQ73B5RDFW5AE"/>
    </Bodies>
    <MethodGroup Id="cmgYSKQW755YRCXFOLT25DJLNQCYA" Name="Root">
      <Group Id="cmgP72NTA2WVNGAXL7VU64MZ6CFMU" Name="Methods" Members="mthCXP2PZA6FRHXPPDBABIDD4EPH4 mthIAE522BK5BFQJBSOPG25A4J3V4 mthNVGZKBUSEVGTVDP44YDKBW2YQQ mthTJZQXRHEPJFDJPLC4ALBR6WRDE mthNZWKWNVVVRCCTGFEEUFIW5GKZQ mthUYJTWCIKZFEAJHDCLOSZKGGAFE"/>
    </MethodGroup>
    <PropertyGroup Id="cpgEWKTMPF3NFEOHN7KH3BCEATDKQ" Name="Root">
      <Group Id="cpgVC47BEJOKNDHTODJKIDPLIIN5E" Name="Props" Members="prdBOI7C2QRB5BNNBU4AFJWZHCJBQ prdKU5MORZL5JBODN5GKYIGLG4WRY prdLMQF33N4XVEW5AICOLK27IHDXY prdPJNC4RT6QFBIFIX2EUV7WUZRAA prdQ65KOEKT6RBGJDHA2HUVDOTV5M prdMJRXYKGRX5BHJIY4EMADGXYP6E prdGLWYM6OP4JC2XCBHUTYIDSC5SM"/>
    </PropertyGroup>
    <Properties>
      <Property Id="prdBOI7C2QRB5BNNBU4AFJWZHCJBQ" Name="newChannel" DescriptionId="mls53SJHLSYXVBTVLPF2PFUYROY7A" Nature="2" IsConst="false" IsOverride="false" isDescriptionInherited="false">
        <AccessRules/>
        <Type TypeId="2"/>
        <Presentation TitleId="mlsT6L2MSLNNNCBTFSKAXDOQJ3GEI" InheritanceMask="4">
          <Editing IsDuplicatesEnabled="true"/>
        </Presentation>
      </Property>
      <Property Id="prdKU5MORZL5JBODN5GKYIGLG4WRY" Name="newChannelVer2" Nature="2" IsConst="false" IsOverride="false" isDescriptionInherited="false">
        <AccessRules IsPublished="false"/>
        <Type TypeId="31" Path="aclVCLH3TEDVTOBDCLTAALOMT5GDM"/>
        <Presentation TitleId="mlsFDDOFYMYOFHK7NEAV6RHEA6R7I" InheritanceMask="20">
          <Editing NullValTitleId="mls6NHFLGKOOFCK5JCBT7EWQ66SJQ" IsDuplicatesEnabled="true"/>
        </Presentation>
      </Property>
      <Property Id="prdLMQF33N4XVEW5AICOLK27IHDXY" Name="newDestinationAddress" DescriptionId="mlsFZLCXKZLN5HP7JZTLH2GJJXBNY" Nature="2" IsConst="false" IsOverride="false" isDescriptionInherited="false">
        <AccessRules/>
        <Type TypeId="21"/>
        <Presentation TitleId="mlsJFDYEQ74WJFNVKQTSQSQRXXIGA" InheritanceMask="4">
          <Editing NullValTitleId="mlsTSBNJJU6EFDOXKRPTZANAJ6TTY" IsDuplicatesEnabled="true"/>
        </Presentation>
      </Property>
      <Property Id="prdPJNC4RT6QFBIFIX2EUV7WUZRAA" Name="newDueTime" DescriptionId="mls3FIYIUSNKBCCZERZDQ7XIWQ5AA" Nature="2" IsConst="false" IsOverride="false" isDescriptionInherited="false">
        <AccessRules/>
        <Type TypeId="12"/>
        <Presentation TitleId="mlsYYRQH6EZKVANTBR2EEYS5F7GRI" InheritanceMask="4">
          <Editing NullValTitleId="mlsZH2IIXRMXZHQTICM3MVDBYX4IY" IsDuplicatesEnabled="true"/>
        </Presentation>
      </Property>
      <Property Id="prdQ65KOEKT6RBGJDHA2HUVDOTV5M" Name="oldChannel" DescriptionId="mlsJTIBJWKHPBH2XO3X4SHPSNY22Q" Nature="2" IsConst="false" IsOverride="false" isDescriptionInherited="false">
        <AccessRules/>
        <Type TypeId="21"/>
        <Presentation TitleId="mlsVWJS65E2P5A4FNRBVOFK7CROYM" InheritanceMask="4">
          <Editing NullValTitleId="mlsZYWRMOQ3BNFIHACDSN4SIGQ5QY" IsDuplicatesEnabled="true"/>
        </Presentation>
      </Property>
      <Property Id="prdMJRXYKGRX5BHJIY4EMADGXYP6E" Name="oldChannelVer2" Nature="2" IsConst="false" IsOverride="false" isDescriptionInherited="false">
        <AccessRules IsPublished="false"/>
        <Type TypeId="31" Path="aclVCLH3TEDVTOBDCLTAALOMT5GDM"/>
        <Presentation TitleId="mlsXMXJ4JICTBFBRIWYKTMMCM4TGU" InheritanceMask="20">
          <Editing NullValTitleId="mlsA5RVTH4JSBBS5LA4CGE3QYMFKU" IsDuplicatesEnabled="true"/>
          <ParentSelect>
            <ParentSelectCondition>
              <ConditionWhere>
                <xsc:Item>
                  <xsc:Sql>exists (select 1 from </xsc:Sql>
                </xsc:Item>
                <xsc:Item>
                  <xsc:TableSqlName TableId="tblGBOAYN4PUTOBDANVABIFNQAABA"/>
                </xsc:Item>
                <xsc:Item>
                  <xsc:Sql> om where om.</xsc:Sql>
                </xsc:Item>
                <xsc:Item>
                  <xsc:PropSqlName TableId="tblGBOAYN4PUTOBDANVABIFNQAABA" PropId="col3DAJREKW3NHERCUYZJEOXLZKXQ" Owner="NONE"/>
                </xsc:Item>
                <xsc:Item>
                  <xsc:Sql> is not null and om.</xsc:Sql>
                </xsc:Item>
                <xsc:Item>
                  <xsc:PropSqlName TableId="tblGBOAYN4PUTOBDANVABIFNQAABA" PropId="colQQY3SX4QUTOBDANVABIFNQAABA" Owner="NONE"/>
                </xsc:Item>
                <xsc:Item>
                  <xsc:Sql> = </xsc:Sql>
                </xsc:Item>
                <xsc:Item>
                  <xsc:PropSqlName TableId="tbl5HP4XTP3EGWDBRCRAAIT4AGD7E" PropId="colEVLUYADHR5VDBNSIAAUMFADAIA" Owner="THIS"/>
                </xsc:Item>
                <xsc:Item>
                  <xsc:Sql>)</xsc:Sql>
                </xsc:Item>
              </ConditionWhere>
              <ConditionFrom/>
            </ParentSelectCondition>
          </ParentSelect>
        </Presentation>
      </Property>
      <Property Id="prdGLWYM6OP4JC2XCBHUTYIDSC5SM" Name="oldDestinationAddress" DescriptionId="mlsBM2CMK5BAVBVBPF36LMUX3OXAY" Nature="2" IsConst="false" IsOverride="false" isDescriptionInherited="false">
        <AccessRules/>
        <Type TypeId="21"/>
        <Presentation TitleId="mlsVWLXCE6YR5EDXI7TKZXVR4WWIQ" InheritanceMask="4">
          <Editing NullValTitleId="mlsHP3RT63STJG6BDY7J3UO5IEUZY" IsDuplicatesEnabled="true"/>
        </Presentation>
      </Property>
    </Properties>
    <Methods>
      <Method Id="mthCXP2PZA6FRHXPPDBABIDD4EPH4" Name="calcUpdates" Nature="0" IsOverride="false">
        <AccessRules IsStatic="true"/>
        <Parameters>
          <Parameter Name="curChannel" Id="mprTJLXGXTK6ZATJHGHY4GHKB36WY">
            <Type TypeId="2"/>
          </Parameter>
          <Parameter Name="curAddress" Id="mprVIEJOLBNYBA6DE7TKU6MU4THXI">
            <Type TypeId="21"/>
          </Parameter>
          <Parameter Name="curDueTime" Id="mprJE7GG3QBS5A7DCXIS7LIS4FC3E">
            <Type TypeId="12"/>
          </Parameter>
          <Parameter Name="oldChannel" Id="mprALUTB5E6KBAKNCVEDRZQNSRY2U">
            <Type TypeId="21"/>
          </Parameter>
          <Parameter Name="oldAddress" Id="mprEKZZBZSWJNFJREPXIFUDB6XYGU">
            <Type TypeId="21"/>
          </Parameter>
          <Parameter Name="newChannel" Id="mprA7SKAFFQYFE2TGHH6KB7VDRYPE">
            <Type TypeId="2"/>
          </Parameter>
          <Parameter Name="newAddress" Id="mprBBL3BJAF55AZDLVFWCQN5VWBII">
            <Type TypeId="21"/>
          </Parameter>
          <Parameter Name="newDueTime" Id="mprT2BR4SLPQVEUZN7XN5AZKMO5YY">
            <Type TypeId="12"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="411" Path="adcMIPHFAL4O5AQFHMUYPJ4IVP2HM"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>final Long effNewChannel = newChannel != null &amp;&amp; (oldChannel == null || </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="afhXTREQTWKGJFKDEHJY7TN45PE64 mthTJZQXRHEPJFDJPLC4ALBR6WRDE" Invoke="true">
                <xsc:Presentation>matches</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(curChannel.longValue(), oldChannel)) ? newChannel.longValue() : null;
final String effNewDestination = newAddress != null ? </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="afhXTREQTWKGJFKDEHJY7TN45PE64 mthNZWKWNVVVRCCTGFEEUFIW5GKZQ" Invoke="true">
                <xsc:Presentation>matchesAndReplaces</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(curAddress, oldAddress, newAddress) : null;

if (effNewChannel != null || effNewDestination != null || newDueTime != null) {
    final </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcMIPHFAL4O5AQFHMUYPJ4IVP2HM">
                <xsc:Presentation>OutMessageUpdateFields</xsc:Presentation>
              </xsc:TypeDeclaration>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> res = new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcMIPHFAL4O5AQFHMUYPJ4IVP2HM">
                <xsc:Presentation>OutMessageUpdateFields</xsc:Presentation>
              </xsc:TypeDeclaration>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>();
    res.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcMIPHFAL4O5AQFHMUYPJ4IVP2HM prdLQDDAVVN2NDI5P63RXJZ3AHSNU" Invoke="true">
                <xsc:Presentation>newAddress</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> = effNewDestination;
    res.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcMIPHFAL4O5AQFHMUYPJ4IVP2HM prdHLDDYHPYF5CONIZG6FJI6H63WU" Invoke="true">
                <xsc:Presentation>newChannel</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> = effNewChannel;
    res.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcMIPHFAL4O5AQFHMUYPJ4IVP2HM prd3KN3L2GBKBDZLPSWNXY2YKREEI" Invoke="true">
                <xsc:Presentation>newDueTime</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> = newDueTime;
    return res;
}

return null;</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthIAE522BK5BFQJBSOPG25A4J3V4" Name="matches" DescriptionId="mlsWWY32BIF4REXZNIY5LQ2QX5ROI" Nature="0" IsOverride="false">
        <AccessRules IsStatic="true"/>
        <Parameters>
          <Parameter Name="value" DescriptionId="mlsTE5O7OH3DJEEPIL4WESRZ6V4OU" Id="mprCVKOZ4FC6NGNVOV4BMEPJNOSVI">
            <Type TypeId="21"/>
          </Parameter>
          <Parameter Name="template" DescriptionId="mlsMQVAHIPMIZHE3HJNV6JPEBZW5Y" Id="mpr3S425TGBCVG27IWMM5PDLCZ3JQ">
            <Type TypeId="21"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="21" Dimension="1"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>if (value == null) {
    return null;
}
else if (template == null) {
    return new String[0];
}


// Template is  value[,..]. Value can contains '%' or '?'.
final char[]    source = value.toCharArray(), templ = template.toCharArray();
int             targetSize = 0;

for (int index = 0; index &lt; templ.length; index++) {    // Calculate max available pairs.
    if (templ[index] == '%' || templ[index] == '_') {
        targetSize++;
    }
}

final int[][]   pairs = new int[targetSize][]; 

if (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="afhXTREQTWKGJFKDEHJY7TN45PE64 mthNVGZKBUSEVGTVDP44YDKBW2YQQ" Invoke="true">
                <xsc:Presentation>matches</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(source, 0, templ, 0, 0, pairs, 0)) {
    int count = pairs.length;

    for (int index = 0; index &lt; pairs.length; index++) {    // Calculate max available pairs.
        if (pairs[index] == null) {
            count = index;
            break;
        }
    }

    final String[]  result = new String[count];

    for (int index = 0; index &lt; result.length; index++) {    // Calculate max available pairs.
        result[index] = new String(source, pairs[index][0], pairs[index][1]);
    }

    return result;
}
else {
    return null;
}
</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthNVGZKBUSEVGTVDP44YDKBW2YQQ" Name="matches" DescriptionId="mlsYFGL3KI2D5B7HLJYQNYXDMY3SA" Nature="0" IsOverride="false">
        <AccessRules Access="1" IsPublished="false" IsStatic="true"/>
        <Parameters>
          <Parameter Name="source" DescriptionId="mls6OSPPXUSCVE7FANRG7O5UOP4OE" Id="mprG6VGTCTVMRAUZNHNIWAHJ5GMZ4">
            <Type TypeId="401" extStr="char" Dimension="1"/>
          </Parameter>
          <Parameter Name="sourceIndex" DescriptionId="mlsMDYSY5KVL5BNNMTJAIDQ66VCJY" Id="mprWYIOSSCN6VENNDZD5E2B5724PA">
            <Type TypeId="401" extStr="int"/>
          </Parameter>
          <Parameter Name="templ" DescriptionId="mlsOMLYZC4L3NCTHFIU2WMCKZGTG4" Id="mprEQHSVYJ3KRBNBFMVWE3IMZZ5ZY">
            <Type TypeId="401" extStr="char" Dimension="1"/>
          </Parameter>
          <Parameter Name="templIndex" DescriptionId="mlsFK2QMNZAXVG5TJC5PB3EM5K5YU" Id="mprEQWG4NWWDZFJZEKCTFXYP2NPQI">
            <Type TypeId="401" extStr="int"/>
          </Parameter>
          <Parameter Name="state" DescriptionId="mlsZXY3RS4A4JBCTE4UN4LXJUCBIY" Id="mprZRD6FTMNZRDXBLWQDYQFBHN2CY">
            <Type TypeId="401" extStr="int"/>
          </Parameter>
          <Parameter Name="pairs" DescriptionId="mls2T5NCJOWCRA2NBSIRUXDVX54XM" Id="mprZIYWRFOVJVFEBJ7UJ7TF77KYDU">
            <Type TypeId="401" extStr="int" Dimension="2"/>
          </Parameter>
          <Parameter Name="pairsIndex" DescriptionId="mlsGGMZRFXDKRDUDAEHMQ2HDO7HUI" Id="mpr6JEQ4KUPUJGG3NTOR2AEAPDZPA">
            <Type TypeId="401" extStr="int"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="401" extStr="boolean"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>switch (state) {
    case 0  :   // Parse list: ZZZ[,...]
        while (!</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="afhXTREQTWKGJFKDEHJY7TN45PE64 mthNVGZKBUSEVGTVDP44YDKBW2YQQ" Invoke="true">
                <xsc:Presentation>matches</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java><![CDATA[(source, sourceIndex, templ, templIndex, 1, pairs, pairsIndex)) {
            while (templIndex < templ.length && templ[templIndex] != ',') {
                templIndex++;
            }
            if (templIndex >= templ.length) {
                return false;
            }
            else {
                templIndex++;
                java.util.Arrays.fill(pairs, null);
            }
        }
        return true;
    case 1  :   // Parse fixed string and '_' wildcard
        while (sourceIndex < source.length && templIndex < templ.length && (source[sourceIndex] == templ[templIndex] || templ[templIndex] == '_')) {
            if (templ[templIndex] == '_') {
                pairs[pairsIndex++] = new int[]{sourceIndex,1};
            }
            sourceIndex++;      templIndex++;
        }
        if (sourceIndex >= source.length && (templIndex >= templ.length || templ[templIndex] == ',')) {
            return true;
        }
        else { // success can be achieved for % wilecard olny
            return templIndex < templ.length && templ[templIndex] == '%'
                    && ]]></xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="afhXTREQTWKGJFKDEHJY7TN45PE64 mthNVGZKBUSEVGTVDP44YDKBW2YQQ" Invoke="true">
                <xsc:Presentation>matches</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(source, sourceIndex, templ, templIndex + 1, 2, pairs, pairsIndex);
        }
    case 2  :   // Parse wildcard '%'
        final int   startVar = sourceIndex;

        if (templIndex >= templ.length || templ[templIndex] == ',') {
            pairs[pairsIndex] = new int[]{sourceIndex, source.length - sourceIndex};
            return true;
        }
        else {
            sourceIndex--;
            do {
                sourceIndex++;  // Skip hipothese
                while (sourceIndex &lt; source.length &amp;&amp; templ[templIndex] != '_' &amp;&amp; source[sourceIndex] != templ[templIndex]) {
                    sourceIndex++;
                }
                if (sourceIndex >= source.length) {
                    return false;
                }
                else {
                    pairs[pairsIndex] = new int[]{startVar,sourceIndex-startVar};
                }
            } while (!</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="afhXTREQTWKGJFKDEHJY7TN45PE64 mthNVGZKBUSEVGTVDP44YDKBW2YQQ" Invoke="true">
                <xsc:Presentation>matches</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(source, sourceIndex, templ, templIndex, 1, pairs, pairsIndex + 1));
            return true;
        }
}

return false;
</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthTJZQXRHEPJFDJPLC4ALBR6WRDE" Name="matches" DescriptionId="mlsG7LVX42HZVEOLKFNRAVSSZAUAM" Nature="0" IsOverride="false">
        <AccessRules IsStatic="true"/>
        <Parameters>
          <Parameter Name="value" DescriptionId="mlsRBFPSQIM3JDI3HCGD56QRPPGSE" Id="mprCJO5PXE5BNE6JOOVH4I53REYQY">
            <Type TypeId="401" extStr="long"/>
          </Parameter>
          <Parameter Name="template" DescriptionId="mlsF4WPLWJEQBBDDCXZBYZFAJHLNY" Id="mprBNAFYJQNRFHGFCTCK73X4GD2FM">
            <Type TypeId="21"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="401" extStr="boolean"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>if (template == null || template.isEmpty()) {
    return true;
}
else {
    for (String range : template.split("\\,")) {
        final int   rangeMarker = range.indexOf("..");
        
        try {
            if (rangeMarker >= 0) {
                if (value >= Long.valueOf(range.substring(0,rangeMarker).trim()).longValue() &amp;&amp; value &lt;= Long.valueOf(range.substring(rangeMarker+2).trim()).longValue()) {
                    return true;
                }
            }
            else {
                if (value == Long.valueOf(range.trim()).longValue()) {
                    return true;
                }
            }
        } catch (NumberFormatException exc) {
        }
    }
    return false;
}
</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthNZWKWNVVVRCCTGFEEUFIW5GKZQ" Name="matchesAndReplaces" DescriptionId="mlsVWXDHMRR5RGPNGOQYBSSXIT5IM" Nature="0" IsOverride="false">
        <AccessRules IsStatic="true"/>
        <Parameters>
          <Parameter Name="source" DescriptionId="mlsYVT3D4PZF5E3LLF6V7LR3JM674" Id="mprZZERQFJ5MNENFI5WUVNF3UQD24">
            <Type TypeId="21"/>
          </Parameter>
          <Parameter Name="template" DescriptionId="mlsF42CY7XR2VATNFHIAGXDT7DDRQ" Id="mprMGDNWSAVQRAGHOGN3GD2U42IQU">
            <Type TypeId="21"/>
          </Parameter>
          <Parameter Name="replacement" DescriptionId="mls4AI7H7TPOVDKLLC34M3SWZREUQ" Id="mprLCEDJHZPQJEEXJ3JSYJYWTKDYU">
            <Type TypeId="21"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="21"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>if (replacement == null) {
    throw new IllegalArgumentException("replacement can't be null!");
}
else {
    final String[]  matchList = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="afhXTREQTWKGJFKDEHJY7TN45PE64 mthIAE522BK5BFQJBSOPG25A4J3V4" Invoke="true">
                <xsc:Presentation>matches</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(source,template);

    if (matchList == null) {
        return null;
    }
    else {
        return </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="afhXTREQTWKGJFKDEHJY7TN45PE64 mthUYJTWCIKZFEAJHDCLOSZKGGAFE" Invoke="true">
                <xsc:Presentation>substitute</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(replacement,matchList);
    }
}
</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthUYJTWCIKZFEAJHDCLOSZKGGAFE" Name="substitute" DescriptionId="mlsEKWIIN3V55D4VGTGLEFRH3PFNE" Nature="0" IsOverride="false">
        <AccessRules Access="2" IsPublished="false" IsStatic="true"/>
        <Parameters>
          <Parameter Name="template" DescriptionId="mlsEGTP7FCOMJG55PJX2ML4MTTWOI" Id="mprASUQ5EO5JRARVIFKZJFFMWPD3A">
            <Type TypeId="21"/>
          </Parameter>
          <Parameter Name="matches" DescriptionId="mlsP3HYYT76OBFBHL5K25F4CGBI6Q" Id="mprLVWEOD2IJ5EAFBEW55JNR3XGZ4">
            <Type TypeId="21" Dimension="1"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="21"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>final StringBuilder sb = new StringBuilder();
final char[]        source = template.toCharArray();
int                 indexFrom = 0, matchIndex = 0;

for (int index = 0; index &lt; source.length; index++) {
    if (source[index] == '%' || source[index] == '_') {
        sb.append(source,indexFrom,index-indexFrom);
        if (matchIndex &lt; matches.length) {
            sb.append(matches[matchIndex++]);
        }
        indexFrom = index+1;
    }
}
sb.append(source,indexFrom,source.length-indexFrom);

return sb.toString();
</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
    </Methods>
    <Presentations>
      <Form InheritanceMask="0">
        <Model Id="afmG3IDEOPEB5FS7EQ73B5RDFW5AE" Name="AbstractMessageGroupChanges4Failed:Model" Type="18">
          <AccessRules/>
          <Headers>
            <Src Name="HeaderafmG3IDEOPEB5FS7EQ73B5RDFW5AE"/>
          </Headers>
          <Bodies>
            <Src Name="BodyafmG3IDEOPEB5FS7EQ73B5RDFW5AE"/>
          </Bodies>
          <MethodGroup Id="cmgKIQA4IMOGFAONAU6TEZK4JZKLU" Name="Root"/>
          <PropertyGroup Id="cpgBKP5ZHWOIVAKTN2KUKOUBEZC6M" Name="Root"/>
          <Properties>
            <Property Id="prdMJRXYKGRX5BHJIY4EMADGXYP6E" Name="oldChannelVer2" Nature="8" IsConst="false" Environment="common-client" IsOverride="false" isDescriptionInherited="false">
              <AccessRules IsPublished="false"/>
              <Type TypeId="31"/>
              <DependentItems/>
              <SetterSources>
                <Src>
                  <xsc:Item>
                    <xsc:IdReference Path="afhG3IDEOPEB5FS7EQ73B5RDFW5AE afmG3IDEOPEB5FS7EQ73B5RDFW5AE prdMJRXYKGRX5BHJIY4EMADGXYP6E" Invoke="true" extStr="#STD_PROP_VALUE#">
                      <xsc:Presentation>oldChannelVer2</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java> = val;

</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="afhXTREQTWKGJFKDEHJY7TN45PE64 prdKU5MORZL5JBODN5GKYIGLG4WRY" Invoke="true">
                      <xsc:Presentation>newChannelVer2</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>.Value = null;

</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:TypeDeclaration TypeId="411" Path="adcT2UYOCLRSNAI3IONE4OQUGNVNQ">
                      <xsc:Presentation>Explorer.Utils::SqmlExpression</xsc:Presentation>
                    </xsc:TypeDeclaration>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java> expr = </xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:TypeDeclaration TypeId="411" Path="adcT2UYOCLRSNAI3IONE4OQUGNVNQ">
                      <xsc:Presentation>Explorer.Utils::SqmlExpression</xsc:Presentation>
                    </xsc:TypeDeclaration>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>.</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="adcT2UYOCLRSNAI3IONE4OQUGNVNQ mthVGTIE4OIN5ACPGJIMVR62VXT5Y" Invoke="true">
                      <xsc:Presentation>sql</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>("exists (select 1 from rdx_pc_channelunit cnew where cnew.id = ")
        .</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="adcT2UYOCLRSNAI3IONE4OQUGNVNQ mthEWV44FJEIVGCDJKCLLTSSUPJ2M" Invoke="true">
                      <xsc:Presentation>append</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>(</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:TypeDeclaration TypeId="411" Path="adcT2UYOCLRSNAI3IONE4OQUGNVNQ">
                      <xsc:Presentation>Explorer.Utils::SqmlExpression</xsc:Presentation>
                    </xsc:TypeDeclaration>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>.</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="adcT2UYOCLRSNAI3IONE4OQUGNVNQ mthQ3HDPCP4PBGFVHTQA7NPCTW2NU" Invoke="true">
                      <xsc:Presentation>this_property</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>(</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="tbl5HP4XTP3EGWDBRCRAAIT4AGD7E">
                      <xsc:Presentation>System::Unit</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>, </xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="aec5HP4XTP3EGWDBRCRAAIT4AGD7E colEVLUYADHR5VDBNSIAAUMFADAIA">
                      <xsc:Presentation>System::Unit:id</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>))
        .</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="adcT2UYOCLRSNAI3IONE4OQUGNVNQ mthEWV44FJEIVGCDJKCLLTSSUPJ2M" Invoke="true">
                      <xsc:Presentation>append</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>(</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:TypeDeclaration TypeId="411" Path="adcT2UYOCLRSNAI3IONE4OQUGNVNQ">
                      <xsc:Presentation>Explorer.Utils::SqmlExpression</xsc:Presentation>
                    </xsc:TypeDeclaration>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>.</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="adcT2UYOCLRSNAI3IONE4OQUGNVNQ mthVGTIE4OIN5ACPGJIMVR62VXT5Y" Invoke="true">
                      <xsc:Presentation>sql</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>(" and cnew.kind = (select cold.kind from rdx_pc_channelunit cold where cold.id = " + (val == null ? "-1" : val.</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="adcMAFGMZHRDZDVHHM3M45BT2NNSY mthYPYFHIGJRVHTPIDYMEWIGA35OI" Invoke="true">
                      <xsc:Presentation>getPid</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>().</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="adc6MUJT675HNGATDJ477ZWLDUOHM mthJ4YIWLZDFRFJHGGWOEYKWOCHLU" Invoke="true">
                      <xsc:Presentation>toString</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>()) + "))"));
</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="afhXTREQTWKGJFKDEHJY7TN45PE64 prdKU5MORZL5JBODN5GKYIGLG4WRY" Invoke="true">
                      <xsc:Presentation>newChannelVer2</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>.</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="adcKWGD253MUFA5RLWGKSXXEAWF5Q mth6NSTYCU5S5HTZPCJAVBGMEUBAA" Invoke="true">
                      <xsc:Presentation>setCondition</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>(expr);
</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="afhXTREQTWKGJFKDEHJY7TN45PE64 prdKU5MORZL5JBODN5GKYIGLG4WRY" Invoke="true">
                      <xsc:Presentation>newChannelVer2</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>.</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="adcYPRT23KRRVAX7AN3727VBD5VI4 mthFP3VLLXXKVGWRCYJ7DKP2EMH4M" Invoke="true">
                      <xsc:Presentation>setCustomEditOnly</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>(val == null);
</xsc:Java>
                  </xsc:Item>
                </Src>
              </SetterSources>
            </Property>
            <Property Id="prdD5DSQQ732JHLFG36YT7O2CEIR4" Name="owner" Nature="2" IsConst="false" Environment="common-client" IsOverride="false" isDescriptionInherited="false">
              <AccessRules Access="1" IsPublished="false"/>
              <Type TypeId="411" Path="adcZ3N2ZQF7BVGB7NZZIGQP5RUK5I"/>
            </Property>
          </Properties>
          <Methods>
            <Method Id="mthSFENJB2XTZEGJMHHYU7CPZFD6I" Name="afterInit" Nature="0" IsOverride="true" isDescriptionInherited="true">
              <AccessRules/>
              <Sources>
                <Src>
                  <xsc:Item>
                    <xsc:Java>super.</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="adcCICJHDC22RGH5ACUPHLRTZQL6Y mthSFENJB2XTZEGJMHHYU7CPZFD6I" Invoke="true">
                      <xsc:Presentation>afterInit</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>();
this.</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="afhXTREQTWKGJFKDEHJY7TN45PE64 afmXTREQTWKGJFKDEHJY7TN45PE64 prdD5DSQQ732JHLFG36YT7O2CEIR4" Invoke="true">
                      <xsc:Presentation>owner</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java> = (</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:TypeDeclaration TypeId="411" Path="adcZ3N2ZQF7BVGB7NZZIGQP5RUK5I">
                      <xsc:Presentation>Explorer.Models::GroupModel</xsc:Presentation>
                    </xsc:TypeDeclaration>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>) </xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="adcCICJHDC22RGH5ACUPHLRTZQL6Y mthKDCFYYQWK5BQVH3L35XGIXYVTY" Invoke="true">
                      <xsc:Presentation>getFormContext</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>().OwnerModel;
this.</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="afhXTREQTWKGJFKDEHJY7TN45PE64 prdKU5MORZL5JBODN5GKYIGLG4WRY" Invoke="true">
                      <xsc:Presentation>newChannelVer2</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>.</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="adcYPRT23KRRVAX7AN3727VBD5VI4 mthFP3VLLXXKVGWRCYJ7DKP2EMH4M" Invoke="true">
                      <xsc:Presentation>setCustomEditOnly</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>(true);</xsc:Java>
                  </xsc:Item>
                </Src>
              </Sources>
            </Method>
            <Method Id="mth4PNRPZUHVRFNLJZUQSUCMS755U" Name="beforeCloseDialog" Nature="0" IsOverride="true">
              <AccessRules/>
              <Parameters>
                <Parameter Name="result" Id="mprO4BGRX3XOJE45JZ56YQ4UYZMTE">
                  <Type TypeId="400" extStr="org.radixware.kernel.common.client.views.IDialog.DialogResult"/>
                </Parameter>
              </Parameters>
              <ReturnType TypeId="401" extStr="boolean"/>
              <Sources>
                <Src>
                  <xsc:Item>
                    <xsc:Java>try{this.</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="afhXTREQTWKGJFKDEHJY7TN45PE64 afmXTREQTWKGJFKDEHJY7TN45PE64 prdD5DSQQ732JHLFG36YT7O2CEIR4" Invoke="true">
                      <xsc:Presentation>owner</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>.</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="adcZ3N2ZQF7BVGB7NZZIGQP5RUK5I mthDDRJNUZBZREGPJL2UQOGDRVIPE" Invoke="true">
                      <xsc:Presentation>reread</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>();
} catch (Exception exc) {
    exc.printStackTrace();
}
return super.</xsc:Java>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:IdReference Path="adcCICJHDC22RGH5ACUPHLRTZQL6Y mth4PNRPZUHVRFNLJZUQSUCMS755U" Invoke="true">
                      <xsc:Presentation>beforeCloseDialog</xsc:Presentation>
                    </xsc:IdReference>
                  </xsc:Item>
                  <xsc:Item>
                    <xsc:Java>(result);</xsc:Java>
                  </xsc:Item>
                </Src>
              </Sources>
            </Method>
          </Methods>
        </Model>
        <EditorPages>
          <Page Id="epg6YOFR7ODJBAH5KTU7OI4MRQTHI" Name="Changes" DescriptionId="mlsFAAMVFBBNVF47EHZPYVNHDMTCY" TitleId="mlsTBQOR3S6O5CUXGGCWJDGIUXBMU" Type="1">
            <Properties>
              <Property Id="prdLMQF33N4XVEW5AICOLK27IHDXY" Row="1" Column="1"/>
              <Property Id="prdGLWYM6OP4JC2XCBHUTYIDSC5SM" Row="1" Column="0"/>
              <Property Id="prdPJNC4RT6QFBIFIX2EUV7WUZRAA" Row="2" Column="1"/>
              <Property Id="prdKU5MORZL5JBODN5GKYIGLG4WRY" Row="0" Column="1"/>
              <Property Id="prdMJRXYKGRX5BHJIY4EMADGXYP6E" Row="0" Column="0"/>
            </Properties>
          </Page>
          <PageOrder>
            <Item PageId="epg6YOFR7ODJBAH5KTU7OI4MRQTHI" Level="1"/>
          </PageOrder>
        </EditorPages>
      </Form>
    </Presentations>
  </AdsClassDefinition>
</AdsDefinition>