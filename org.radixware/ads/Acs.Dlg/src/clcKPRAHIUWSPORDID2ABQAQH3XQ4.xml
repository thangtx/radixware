<?xml version="1.0" encoding="UTF-8"?>
<AdsDefinition xmlns="http://schemas.radixware.org/adsdef.xsd" xmlns:xsc="http://schemas.radixware.org/xscml.xsd" FormatVersion="0">
  <AdsContextlessCommandDefinition Id="clcKPRAHIUWSPORDID2ABQAQH3XQ4" Name="GetRoleListCmd" TitleId="mlsR32UZZHNIRBFDH7AJZIOYIUVPU" Nature="2" IsReadOnlyCommand="true" IsVisible="false" IsConfirmationRequired="false">
    <AccessRules IsFinal="true"/>
    <OutType TypeId="451" Path="xsd5NCENQ5IQ3OBDCKEAALOMT5GDM" extStr="RoleListDocument"/>
    <Source>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="451" Path="xsd5NCENQ5IQ3OBDCKEAALOMT5GDM" extStr="RoleListDocument">
          <xsc:Presentation>Meta::AdsDefXsd:RoleListDocument</xsc:Presentation>
        </xsc:TypeDeclaration>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java> roleList = </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="451" Path="xsd5NCENQ5IQ3OBDCKEAALOMT5GDM" extStr="RoleListDocument">
          <xsc:Presentation>Meta::AdsDefXsd:RoleListDocument</xsc:Presentation>
        </xsc:TypeDeclaration>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>.Factory.newInstance();
</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="451" Path="xsd5NCENQ5IQ3OBDCKEAALOMT5GDM" extStr="RoleListDocument.RoleList">
          <xsc:Presentation>Meta::AdsDefXsd:RoleListDocument.RoleList</xsc:Presentation>
        </xsc:TypeDeclaration>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java> list = roleList.addNewRoleList();

//system roles
arte.getDefManager().updateAppRolesCache();
for (</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="411" Path="adc46DXFH4XVNBOFPJFB2HGZMTIEI">
          <xsc:Presentation>Meta::RoleDef</xsc:Presentation>
        </xsc:TypeDeclaration>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java> r : arte.getDefManager().getAccessibleRoleDefs()) {
    if (!r.isAbstract()) {
        </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="451" Path="xsd5NCENQ5IQ3OBDCKEAALOMT5GDM" extStr="RoleListDocument.RoleList.Role">
          <xsc:Presentation>Meta::AdsDefXsd:RoleListDocument.RoleList.Role</xsc:Presentation>
        </xsc:TypeDeclaration>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java> role = list.addNewRole();
        role.Id = r.getId();
        String title = r.getTitle();
        if (title == null) {
            title = r.getName();
        }
        role.Name = title;
        String description = r.getDescription();
        if ((description != null) &amp;&amp; (!description.isEmpty())) {
            role.setDescription(description);
        }
        role.IsAccessRestricted = r.getResourceRestrictions(org.radixware.kernel.common.enums.EDrcResourceType.SERVER_RESOURCE,
            </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="411" Path="adcKDF543XQWZEI5DORWHNFIYCZ2A">
          <xsc:Presentation>Types::Id.Factory</xsc:Presentation>
        </xsc:TypeDeclaration>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="adcKDF543XQWZEI5DORWHNFIYCZ2A mthGFAPI2TPWZEJHN436UQMWZIPZM" Invoke="true">
          <xsc:Presentation>loadFrom</xsc:Presentation>
        </xsc:IdReference>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>(org.radixware.kernel.common.enums.EDrcServerResource.EAS.getValue()),
            null).</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="adcD4IF2ZGYX5DETIZXQQAZSPXELI mthGMYULA744NDYLNERP4EMEEZZQE" Invoke="true">
          <xsc:Presentation>getIsAccessRestricted</xsc:Presentation>
        </xsc:IdReference>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>();
        role.IsApplicationRole = r.getId().</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="adcELH54EKVCJAATNTLFHHCSVHPZU mthC7F2QKANMFBQTB24S6XOYKQHEY" Invoke="true">
          <xsc:Presentation>getPrefix</xsc:Presentation>
        </xsc:IdReference>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>() == </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="acsHL2QKDVQX5FARACANDWKNIZ5OU aci5LR64HT7LFFZDHOXXZY3VWJ2BI" Invoke="true">
          <xsc:Presentation>Meta::DefinitionIdPrefix:APPLICATION_ROLE</xsc:Presentation>
        </xsc:IdReference>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>;
    }
}

return roleList;</xsc:Java>
      </xsc:Item>
    </Source>
  </AdsContextlessCommandDefinition>
</AdsDefinition>