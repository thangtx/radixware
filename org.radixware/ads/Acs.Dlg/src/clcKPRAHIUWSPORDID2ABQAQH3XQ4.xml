<?xml version="1.0" encoding="UTF-8"?>
<AdsDefinition xmlns="http://schemas.radixware.org/adsdef.xsd" xmlns:xsc="http://schemas.radixware.org/xscml.xsd" FormatVersion="0">
  <AdsContextlessCommandDefinition Id="clcKPRAHIUWSPORDID2ABQAQH3XQ4" Name="GetRoleListCmd" TitleId="mlsR32UZZHNIRBFDH7AJZIOYIUVPU" Nature="2" IsReadOnlyCommand="true" IsVisible="false" IsConfirmationRequired="false">
    <OutType TypeId="451" Path="xsd5NCENQ5IQ3OBDCKEAALOMT5GDM" extStr="RoleListDocument"/>
    <Source>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="451" Path="xsd5NCENQ5IQ3OBDCKEAALOMT5GDM" extStr="RoleListDocument"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java> roleList = </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="451" Path="xsd5NCENQ5IQ3OBDCKEAALOMT5GDM" extStr="RoleListDocument"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>.Factory.newInstance();
 </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="451" Path="xsd5NCENQ5IQ3OBDCKEAALOMT5GDM" extStr="RoleListDocument.RoleList"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java> list = roleList.addNewRoleList();
  
//system roles
for (</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="411" Path="adc46DXFH4XVNBOFPJFB2HGZMTIEI"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java> r : arte.getDefManager().getAccessibleRoleDefs()){
  if (!r.isAbstract())
     {
      </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="451" Path="xsd5NCENQ5IQ3OBDCKEAALOMT5GDM" extStr="RoleListDocument.RoleList.Role"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java> role = list.addNewRole();
      role.Id = r.getId();
      String title = r.getTitle();
      if (title == null)
          title = r.getName();
      role.Name = title;
      role.IsApplicationRole = r.getId().</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="adcELH54EKVCJAATNTLFHHCSVHPZU mthC7F2QKANMFBQTB24S6XOYKQHEY" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>() == </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="acsHL2QKDVQX5FARACANDWKNIZ5OU aci5LR64HT7LFFZDHOXXZY3VWJ2BI" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>;
     }
}

//application roles goes throw def manager, so follwing code is commented
//java.util.List&lt;org.radixware.kernel.server.arte.Rights.AppRole> appRoleList = arte.getRights().getAppRoleList();
//for (org.radixware.kernel.server.arte.Rights.AppRole r : appRoleList){
//   </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="451" Path="xsd5NCENQ5IQ3OBDCKEAALOMT5GDM" extStr="RoleListDocument.RoleList.Role"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java> role = list.addNewRole();
//   role.Id = </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>.Factory.loadFrom(r.getId());
//   role.Name = r.getTitle();
//}
return roleList;</xsc:Java>
      </xsc:Item>
    </Source>
  </AdsContextlessCommandDefinition>
</AdsDefinition>