<?xml version="1.0" encoding="UTF-8"?>
<AdsDefinition xmlns="http://schemas.radixware.org/adsdef.xsd" xmlns:xsc="http://schemas.radixware.org/xscml.xsd" FormatVersion="0">
  <AdsClassDefinition Id="adcAET7DTMA5VE47NWVW22BPT27FQ" Name="UDSUserReportLoader" Type="3" Environment="server">
    <AccessRules IsPublished="false">
      <Transparence Extendable="false"/>
    </AccessRules>
    <Headers>
      <Src Name="HeaderadcAET7DTMA5VE47NWVW22BPT27FQ"/>
    </Headers>
    <Bodies>
      <Src Name="BodyadcAET7DTMA5VE47NWVW22BPT27FQ">
        <xsc:Item>
          <xsc:Java>String explicitReportId;
long explicitVersionId;
</xsc:Java>
        </xsc:Item>
        <xsc:Item>
          <xsc:TypeDeclaration TypeId="411" Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI"/>
        </xsc:Item>
        <xsc:Item>
          <xsc:Java> additionalVersion;</xsc:Java>
        </xsc:Item>
      </Src>
    </Bodies>
    <MethodGroup Id="cmgES3ULQI5DBCYLKV2KPUJ2JRJDA" Name="Root"/>
    <PropertyGroup Id="cpgDNQBRODEZ5F6FDHGF4FXPMULK4" Name="Root"/>
    <Properties/>
    <Methods>
      <Method Id="mthJMTTTGYUQRFDVDGF4YBTBKIHMQ" Name="listDefinitions" Nature="0" IsOverride="true">
        <AccessRules/>
        <Parameters>
          <Parameter Name="moduleRepo" Id="mprVSJLGZ5ODJGYRIYINBJRTI6W24">
            <Type TypeId="400" extStr="org.radixware.kernel.common.builder.api.userext.UDSAdsModuleRepository"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="400" extStr="org.radixware.kernel.common.repository.ads.fs.IRepositoryAdsDefinition" Dimension="1"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="accDXN32BQUAFEADF3NUMM7HZ2NKY"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> cursor = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="accDXN32BQUAFEADF3NUMM7HZ2NKY"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="accBTOE5BYHANBYZLMRYEIQMNZEV4 mth_stmt_execute_____________" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(moduleRepo.getId().</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcELH54EKVCJAATNTLFHHCSVHPZU mthCX6FRHR4VNG37LJWH7N6THCMMA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>());
java.util.List&lt;org.radixware.kernel.common.repository.ads.fs.IRepositoryAdsDefinition> definitions = new java.util.ArrayList&lt;>();
try {
    boolean additionalVersionAttached = false;
    while (cursor.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcCursor____________________ mthBNNDZ4NDINDL3IT3X6TOSIN7TQ" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>()) {
        try {
            </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> version;
            if (explicitReportId != null &amp;&amp; java.util.Objects.equals(explicitReportId, cursor.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="accDXN32BQUAFEADF3NUMM7HZ2NKY prf4RGSLFIHJFER5FHC7AQXRIJ75I" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>)) {
                version = cursor.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="accDXN32BQUAFEADF3NUMM7HZ2NKY prfOPNMKCUIORAVHKSSHYQ7Q3266U" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecRHH7SYO5I5EFRGYIBOSVUXKD7U mthGVCHKVQWU5CJXL5QUD65UHGS4M" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(explicitVersionId);
            } else {
                version = cursor.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="accDXN32BQUAFEADF3NUMM7HZ2NKY prfEDXLF2EJNZEMRODXYS573ZN7YU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>;
            }

            if (additionalVersion != null) {
                if (additionalVersion.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI colT7D35GBIUBGHLHVAUNSMFGFCJM" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> ==  version.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI colT7D35GBIUBGHLHVAUNSMFGFCJM" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> &amp;&amp; additionalVersion.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI col443263VQHJDJTPL4VY3PNWTNCE" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> == cursor.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="accDXN32BQUAFEADF3NUMM7HZ2NKY prf4RGSLFIHJFER5FHC7AQXRIJ75I" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>) {
                    additionalVersionAttached = true;
                }
            }

            </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="451" Path="xsd5NCENQ5IQ3OBDCKEAALOMT5GDM" extStr="AdsUserReportDefinitionDocument"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> xDoc = version.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI col3FPD27GEFBBTPFKKRBBVO5ODS4" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>;
            </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> reportId = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcKDF543XQWZEI5DORWHNFIYCZ2A"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.loadFrom(cursor.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="accDXN32BQUAFEADF3NUMM7HZ2NKY prf4RGSLFIHJFER5FHC7AQXRIJ75I" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>);

            if (xDoc != null) {
                org.radixware.kernel.common.defs.ads.clazz.sql.report.AdsUserReportClassDef.loadFromDbStorage(xDoc, reportId, version.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI colT7D35GBIUBGHLHVAUNSMFGFCJM" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.longValue(), true, definitions);
            }
        } catch (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axc6XYNZ22YSZEKDKWH2SWRGBTC6I"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> ex) {
            </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthXVQVCB5YSTNRDDXBABIFNQAAAE" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acsFRO5RTQOG7NRDJH2ACQMTAIZT4 aci5SAUJTYZVPORDJHCAANE2UAFXA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, "Error on report source reading: " + </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcYNRZI7YTNVBRBF5VJBIO6NWV4U"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcYNRZI7YTNVBRBF5VJBIO6NWV4U mthBXQY2BN2DVEUNP7D645ZOVXZM4" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(ex), </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acsTNLJBZADHTNRDIPGABQAQNO6EY aciVHTSMNFUNNBTJFRXGWTPCZA2FI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>);
            continue;
        }
    }
    if (!additionalVersionAttached &amp;&amp; additionalVersion != null &amp;&amp; additionalVersion.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI col7P4D3DQKINHZTNKFEWE2UZCSHY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecRHH7SYO5I5EFRGYIBOSVUXKD7U colNZRAHOSI3FF2BPRMJ2DYZDLMDY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecN7LNYTJYXBDC7MTGOI4IP2THFA colHL2DQINMTBFYBKFSXNSK43NHY4" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> == moduleRepo.getId().</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcELH54EKVCJAATNTLFHHCSVHPZU mthCX6FRHR4VNG37LJWH7N6THCMMA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>()) {        
        </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="451" Path="xsd5NCENQ5IQ3OBDCKEAALOMT5GDM" extStr="AdsUserReportDefinitionDocument"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> xDoc = additionalVersion.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI col3FPD27GEFBBTPFKKRBBVO5ODS4" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>;
        </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> reportId = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcKDF543XQWZEI5DORWHNFIYCZ2A"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.loadFrom(additionalVersion.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI col443263VQHJDJTPL4VY3PNWTNCE" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>);

        if (xDoc != null) {            
            org.radixware.kernel.common.defs.ads.clazz.sql.report.AdsUserReportClassDef.loadFromDbStorage(xDoc, reportId, additionalVersion.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI colT7D35GBIUBGHLHVAUNSMFGFCJM" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.longValue(), true, definitions);
        }
    }
} finally {
    cursor.close();
}

return definitions.toArray(new org.radixware.kernel.common.repository.ads.fs.IRepositoryAdsDefinition[definitions.size()]);</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthX4NPH5Y2CZB4DJP5KRTLRO5U3A" Name="listModuleIds" Nature="0" IsOverride="true">
        <AccessRules/>
        <ReturnType TypeId="400" extStr="org.radixware.kernel.common.types.Id" Dimension="1"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>
java.util.List&lt;</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>> moduleIds = new java.util.ArrayList&lt;>();
</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="accERFCVAI4CNHSHDWDDYFACN4AQM"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> cursor = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="accERFCVAI4CNHSHDWDDYFACN4AQM"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="accERFCVAI4CNHSHDWDDYFACN4AQM mth_stmt_execute_____________" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(null);
while (cursor.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcCursor____________________ mthBNNDZ4NDINDL3IT3X6TOSIN7TQ" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>()) {
    moduleIds.add(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcKDF543XQWZEI5DORWHNFIYCZ2A"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcKDF543XQWZEI5DORWHNFIYCZ2A mthZCNI2JK4DFGNLEBCLZZCIM34TA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(cursor.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="accERFCVAI4CNHSHDWDDYFACN4AQM prfRF5KAE4CZFHOFERFBWPDV6T6B4" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>));
}

if (additionalVersion != null) {
    </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> moduleId = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcKDF543XQWZEI5DORWHNFIYCZ2A"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcKDF543XQWZEI5DORWHNFIYCZ2A mthGFAPI2TPWZEJHN436UQMWZIPZM" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(additionalVersion.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI col7P4D3DQKINHZTNKFEWE2UZCSHY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecRHH7SYO5I5EFRGYIBOSVUXKD7U colNZRAHOSI3FF2BPRMJ2DYZDLMDY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecN7LNYTJYXBDC7MTGOI4IP2THFA colHL2DQINMTBFYBKFSXNSK43NHY4" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>);
    if (!moduleIds.contains(moduleId)) {
        moduleIds.add(moduleId);

    }
}

return moduleIds.toArray(new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>[moduleIds.size()]);</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthM7UT76BQLBAG5F3GCLWFDTUJ2Q" Name="loadDefinitionToModuleContext" Nature="0" IsOverride="true">
        <AccessRules/>
        <Parameters>
          <Parameter Name="module" Id="mprG6M7BIMC65CQDK4SU3IGOQLTIU">
            <Type TypeId="400" extStr="org.radixware.kernel.common.builder.api.userext.UDSAdsModule"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="401" extStr="boolean"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>return false;</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mth7TEO2C7Y55CBZPEVWFJCGS2KPA" Name="listImages" Nature="0" IsOverride="true">
        <AccessRules/>
        <Parameters>
          <Parameter Name="moduleRepo" Id="mprARFCSBS76ZCTXACSGJSCRL2ZE4">
            <Type TypeId="400" extStr="org.radixware.kernel.common.builder.api.userext.UDSAdsModuleRepository"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="400" extStr="org.radixware.kernel.common.repository.ads.fs.IRepositoryAdsImageDefinition" Dimension="1"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aecN7LNYTJYXBDC7MTGOI4IP2THFA"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> module = null;
if (additionalVersion != null &amp;&amp; additionalVersion.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI col7P4D3DQKINHZTNKFEWE2UZCSHY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> != null &amp;&amp; additionalVersion.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI col7P4D3DQKINHZTNKFEWE2UZCSHY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecRHH7SYO5I5EFRGYIBOSVUXKD7U colNZRAHOSI3FF2BPRMJ2DYZDLMDY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> != null &amp;&amp; additionalVersion.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI col7P4D3DQKINHZTNKFEWE2UZCSHY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecRHH7SYO5I5EFRGYIBOSVUXKD7U colNZRAHOSI3FF2BPRMJ2DYZDLMDY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecN7LNYTJYXBDC7MTGOI4IP2THFA colHL2DQINMTBFYBKFSXNSK43NHY4" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> == moduleRepo.getId().</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcELH54EKVCJAATNTLFHHCSVHPZU mthCX6FRHR4VNG37LJWH7N6THCMMA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>()) {
    module = additionalVersion.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI col7P4D3DQKINHZTNKFEWE2UZCSHY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecRHH7SYO5I5EFRGYIBOSVUXKD7U colNZRAHOSI3FF2BPRMJ2DYZDLMDY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>;
}
if (module == null) {
    module = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aecN7LNYTJYXBDC7MTGOI4IP2THFA"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecN7LNYTJYXBDC7MTGOI4IP2THFA mth_loadByPK_________________" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(moduleRepo.getId().</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcELH54EKVCJAATNTLFHHCSVHPZU mthCX6FRHR4VNG37LJWH7N6THCMMA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(), false);
}

</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="28"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> images = module.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecN7LNYTJYXBDC7MTGOI4IP2THFA colTD5STVFJWZCWTAEXMFGIDXXUHU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>;

if (images != null) {
    try {
        java.io.InputStream blobStream = images.BinaryStream;
        try {
            java.util.zip.ZipInputStream zis = new java.util.zip.ZipInputStream(blobStream);
            java.util.zip.ZipEntry entry;
            java.util.List&lt;org.radixware.kernel.common.repository.ads.fs.IRepositoryAdsImageDefinition> result = new java.util.ArrayList&lt;>();
            java.util.Map&lt;</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, String> image2FileName = new java.util.HashMap&lt;>();
            java.util.Map&lt;</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, String> id2FileName = new java.util.HashMap&lt;>();
            try {
                while ((entry = zis.getNextEntry()) != null) {
                    String id = entry.getName().substring(0, entry.Name.length() - 4);
                    </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> imageId = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcKDF543XQWZEI5DORWHNFIYCZ2A"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcKDF543XQWZEI5DORWHNFIYCZ2A mthGFAPI2TPWZEJHN436UQMWZIPZM" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(id);
                    if (entry.Name.endsWith(".xml")) {
                        image2FileName.put(imageId, null);
                    } else {
                        id2FileName.put(imageId, entry.Name);
                    }
                }
                for (java.util.Map.Entry&lt;</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, String> e : id2FileName.entrySet()) {
                    if (image2FileName.containsKey(e.Key)) {
                        image2FileName.put(e.Key, e.Value);
                    }
                }
                for (java.util.Map.Entry&lt;</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, String> e : image2FileName.entrySet()) {
                    </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> id = e.Key;
                    String fileName = e.Value;
                    org.radixware.kernel.common.defs.ads.module.AdsImageDef image = org.radixware.kernel.common.defs.ads.module.AdsImageDef.Factory.newInstance(id);
                    org.radixware.kernel.common.builder.api.userext.UDSAdsImageDefinitionRepository imageRepo = new org.radixware.kernel.common.builder.api.userext.UDSAdsImageDefinitionRepository(moduleRepo, image, fileName);
                    result.add(imageRepo);
                }
            } catch (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axcT6PDWQP2FRBGJJE4ZJYCMR2CDM"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> ex) {
                //ignore
            } finally {
                try {
                    zis.close();
                } catch (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axcT6PDWQP2FRBGJJE4ZJYCMR2CDM"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> ex) {
                }
            }
            return result.toArray(new org.radixware.kernel.common.repository.ads.fs.IRepositoryAdsImageDefinition[result.size()]);
        } finally {
            try {
                blobStream.close();
            } catch (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axcT6PDWQP2FRBGJJE4ZJYCMR2CDM"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> ex) {
            }
        }
    } catch (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axcG6PZC4JQPBAI5C7ZFKWL4SWGKA"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> ex) {
    }
}
return new org.radixware.kernel.common.repository.ads.fs.IRepositoryAdsImageDefinition[0];</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthUGVSL275C5ETXMF4ERPZLXABCU" Name="getImageData" Nature="0" IsOverride="true">
        <AccessRules/>
        <Parameters>
          <Parameter Name="moduleRepo" Id="mprRPDLWDWFXFASROODIAVYMQWCX4">
            <Type TypeId="400" extStr="org.radixware.kernel.common.builder.api.userext.UDSAdsModuleRepository"/>
          </Parameter>
          <Parameter Name="imageId" Id="mpr6TICURQWWJD5PJQ7H5EDRRRS5E">
            <Type TypeId="400" extStr="org.radixware.kernel.common.types.Id"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="400" extStr="java.io.InputStream"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>
</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aecN7LNYTJYXBDC7MTGOI4IP2THFA"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> module = null;
if (additionalVersion != null &amp;&amp; additionalVersion.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI col7P4D3DQKINHZTNKFEWE2UZCSHY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> != null &amp;&amp; additionalVersion.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI col7P4D3DQKINHZTNKFEWE2UZCSHY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecRHH7SYO5I5EFRGYIBOSVUXKD7U colNZRAHOSI3FF2BPRMJ2DYZDLMDY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> != null &amp;&amp; additionalVersion.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI col7P4D3DQKINHZTNKFEWE2UZCSHY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecRHH7SYO5I5EFRGYIBOSVUXKD7U colNZRAHOSI3FF2BPRMJ2DYZDLMDY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecN7LNYTJYXBDC7MTGOI4IP2THFA colHL2DQINMTBFYBKFSXNSK43NHY4" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> == moduleRepo.getId().</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcELH54EKVCJAATNTLFHHCSVHPZU mthCX6FRHR4VNG37LJWH7N6THCMMA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>()) {
    module = additionalVersion.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecM2NL42YXRRA5ZH27LCKIW5CQNI col7P4D3DQKINHZTNKFEWE2UZCSHY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecRHH7SYO5I5EFRGYIBOSVUXKD7U colNZRAHOSI3FF2BPRMJ2DYZDLMDY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>;
}
if (module == null) {
    module = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aecN7LNYTJYXBDC7MTGOI4IP2THFA"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecN7LNYTJYXBDC7MTGOI4IP2THFA mth_loadByPK_________________" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(moduleRepo.getId().</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcELH54EKVCJAATNTLFHHCSVHPZU mthCX6FRHR4VNG37LJWH7N6THCMMA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(), false);
}

</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="28"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> images = module.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecN7LNYTJYXBDC7MTGOI4IP2THFA colTD5STVFJWZCWTAEXMFGIDXXUHU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>;

if (images != null) {
    try {
        java.io.InputStream blobStream = images.BinaryStream;
        try {
            java.util.zip.ZipInputStream zis = new java.util.zip.ZipInputStream(blobStream);
            java.util.zip.ZipEntry entry;
           
            try {
                while ((entry = zis.getNextEntry()) != null) {                    
                    if (!entry.Name.endsWith(".xml")) {
                        String idstr = entry.getName().substring(0,entry.Name.length()-4);
                        </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> id = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcKDF543XQWZEI5DORWHNFIYCZ2A"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcKDF543XQWZEI5DORWHNFIYCZ2A mthZCNI2JK4DFGNLEBCLZZCIM34TA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(idstr);
                        if(id == imageId){
                            java.io.ByteArrayOutputStream out = new java.io.ByteArrayOutputStream();
                            org.radixware.kernel.common.utils.FileUtils.copyStream(zis,out);
                            return new java.io.ByteArrayInputStream(out.toByteArray());
                        }
                        
                    }
                }
            } catch (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axcT6PDWQP2FRBGJJE4ZJYCMR2CDM"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> ex) {
                //ignore
            } finally {
                try {
                    zis.close();
                } catch (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axcT6PDWQP2FRBGJJE4ZJYCMR2CDM"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> ex) {
                }
            }
            
        } finally {
            try {
                blobStream.close();
            } catch (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axcT6PDWQP2FRBGJJE4ZJYCMR2CDM"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> ex) {
            }
        }
    } catch (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axcG6PZC4JQPBAI5C7ZFKWL4SWGKA"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> ex) {
    }
}
return null;</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
    </Methods>
    <Implements>
      <Interface TypeId="411" Path="aicL25TZFEZONEQJJWZHDTE3THUJY"/>
    </Implements>
  </AdsClassDefinition>
</AdsDefinition>