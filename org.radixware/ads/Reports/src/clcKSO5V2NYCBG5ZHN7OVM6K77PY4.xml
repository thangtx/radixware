<?xml version="1.0" encoding="UTF-8"?>
<AdsDefinition xmlns="http://schemas.radixware.org/adsdef.xsd" xmlns:xsc="http://schemas.radixware.org/xscml.xsd" FormatVersion="0">
  <AdsContextlessCommandDefinition Id="clcKSO5V2NYCBG5ZHN7OVM6K77PY4" Name="ListUserReportsCmd" Nature="2" IsVisible="true" IsConfirmationRequired="true">
    <AccessRules IsPublished="false"/>
    <OutType TypeId="451" Path="xsdPYPQ5263TRFAVOUN4WRU4ZOPQ4" extStr="UserReportHeaderListRsDocument"/>
    <Source>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="411" Path="accFC5VMZE37VE7NJUBTXKFXJCZTE"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java> modulesCursor = </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="411" Path="accFC5VMZE37VE7NJUBTXKFXJCZTE"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="accFC5VMZE37VE7NJUBTXKFXJCZTE mth_stmt_execute_____________" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>();

class ModuleInfo {

    String title;
    String id;

    public ModuleInfo(String id, String title) {
        this.id = id;
        this.title = title;
    }
}

java.util.List&lt;ModuleInfo> modules = new java.util.LinkedList&lt;ModuleInfo>();
try {
    while (modulesCursor.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="pdcCursor____________________ mthBNNDZ4NDINDL3IT3X6TOSIN7TQ" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>()) {
        modules.add(new ModuleInfo(modulesCursor.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="accFC5VMZE37VE7NJUBTXKFXJCZTE prfAI4AO2NAYFBXNEXQN6EG32YAAI" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>, modulesCursor.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="accFC5VMZE37VE7NJUBTXKFXJCZTE prfOWZP22DDGRDH3JHX7WKPTVNM4M" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>));
    }
} finally {
    modulesCursor.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="pdcCursor____________________ mth_stmt_close_______________" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>();
}

</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="451" Path="xsdPYPQ5263TRFAVOUN4WRU4ZOPQ4" extStr="UserReportHeaderListRsDocument"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java> xDoc = </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="451" Path="xsdPYPQ5263TRFAVOUN4WRU4ZOPQ4" extStr="UserReportHeaderListRsDocument"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>.Factory.newInstance();
</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="451" Path="xsdPYPQ5263TRFAVOUN4WRU4ZOPQ4" extStr="UserReportHeaderListRs"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java> xRs = xDoc.addNewUserReportHeaderListRs();

for (ModuleInfo info : modules) {
    </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="411" Path="accVO3EYZKN3VFVPN6O56J3CTBO3Y"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java> c = </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="411" Path="accVO3EYZKN3VFVPN6O56J3CTBO3Y"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="accVO3EYZKN3VFVPN6O56J3CTBO3Y mth_stmt_execute_____________" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>(info.id);
    try {
        </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="451" Path="xsdPYPQ5263TRFAVOUN4WRU4ZOPQ4" extStr="UserReportHeaderListRs.Module"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java> xModule = null;
        while (c.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="pdcCursor____________________ mthBNNDZ4NDINDL3IT3X6TOSIN7TQ" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>()) {
            if (xModule == null) {
                xModule = xRs.addNewModule();
                xModule.Title = info.title;
            }

            </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="27"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java> contextParamType = c.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="accVO3EYZKN3VFVPN6O56J3CTBO3Y prfX2S6DYVATNHIRH6JKSD2IPROV4" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>;
            </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java><![CDATA[ contextParamClassId = null;
            if (contextParamType != null) {
                try {
                    org.radixware.schemas.xscml.TypeDeclarationDocument xDecl = org.radixware.schemas.xscml.TypeDeclarationDocument.Factory.parse(contextParamType.getCharacterStream(1, contextParamType.length()));
                    if (xDecl != null && xDecl.TypeDeclaration != null && xDecl.TypeDeclaration.Path != null && xDecl.TypeDeclaration.Path.size() > 0) {
                        contextParamClassId = xDecl.TypeDeclaration.Path.get(0);
                    }
                } catch (Exception e) {
                }
            }
            ]]></xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="27"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java> src = c.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="accVO3EYZKN3VFVPN6O56J3CTBO3Y prfJXLAVYHUTFGARIWLDK5LVJ4BOA" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>;
            java.util.List&lt;</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>> interfaces = new java.util.LinkedList&lt;</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java><![CDATA[>();
            if (src != null) {
                try {
                    org.radixware.schemas.adsdef.AdsUserReportDefinitionDocument xRep = org.radixware.schemas.adsdef.AdsUserReportDefinitionDocument.Factory.parse(src.getCharacterStream(1, src.length()));
                    if (xRep != null && xRep.AdsUserReportDefinition != null && xRep.AdsUserReportDefinition.Report != null) {

                        org.radixware.schemas.adsdef.ClassDefinition.Implements xImpl = xRep.AdsUserReportDefinition.Report.Implements;

                        if (xImpl != null && xImpl.InterfaceList != null) {
                            for (org.radixware.schemas.xscml.TypeDeclaration xType : xImpl.InterfaceList) {
                                if (xType.Path != null && xType.Path.size() == 1) {
                                    ]]></xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java> id = xType.Path.get(0);
                                    if (id != null) {
                                        interfaces.add(id);
                                    }
                                }
                            }
                        }
                    }

                } catch (Exception e) {
                }
            }
            </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="411" Path="aecRHH7SYO5I5EFRGYIBOSVUXKD7U"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java> reportPtr = c.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="accVO3EYZKN3VFVPN6O56J3CTBO3Y prfSIDIRJ6RKJBUPG4PVA776OROKQ" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>;
            if (reportPtr == null) {
                continue;
            }
            
            String validationResult = reportPtr.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="aecRHH7SYO5I5EFRGYIBOSVUXKD7U mthLOETVQ4NTZEIZDENY7DMQEXTVA" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>();
            
            if (validationResult != null &amp;&amp; !validationResult.isEmpty()) {
                </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="pdcTrace_____________________ mthS7A5F7KSRPNRDCISABIFNQAABA" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>("User-defined report skipped. Current version is invalid: " + c.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="accVO3EYZKN3VFVPN6O56J3CTBO3Y prfIYTTILFBCZF67F34B4R5HAYEMA" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>,</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="acsTNLJBZADHTNRDIPGABQAQNO6EY aciVHTSMNFUNNBTJFRXGWTPCZA2FI" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>);
                continue;
            }

            </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="451" Path="xsdPYPQ5263TRFAVOUN4WRU4ZOPQ4" extStr="UserReportHeaderListRs.Module"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>.Report report = xModule.addNewReport();
            report.Id = </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>.Factory.loadFrom(c.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="accVO3EYZKN3VFVPN6O56J3CTBO3Y prfIYTTILFBCZF67F34B4R5HAYEMA" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>);
            if (!interfaces.isEmpty()) {
                report.SuperInterfaces = interfaces;
            }
            String title = </xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:TypeDeclaration TypeId="411" Path="adcKXBE5RCT2DNRDISQAAAAAAAAAA"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="adcKXBE5RCT2DNRDISQAAAAAAAAAA mthFAQ6TNXPORCFLLLXKIIRJ3ULAA" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>(c.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="accVO3EYZKN3VFVPN6O56J3CTBO3Y prfIYTTILFBCZF67F34B4R5HAYEMA" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>);
            if (title == null)
                title = c.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="accVO3EYZKN3VFVPN6O56J3CTBO3Y prf5Z7F7XNUOJDK7C777VOF22Y6PU" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>;
            report.Title = title;
            report.FullName = info.title + "::" + c.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="accVO3EYZKN3VFVPN6O56J3CTBO3Y prf5Z7F7XNUOJDK7C777VOF22Y6PU" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>;
            report.ContextClassId = contextParamClassId;
        }
    } finally {
        c.</xsc:Java>
      </xsc:Item>
      <xsc:Item>
        <xsc:IdReference Path="pdcCursor____________________ mth_stmt_close_______________" Invoke="true"/>
      </xsc:Item>
      <xsc:Item>
        <xsc:Java>();
    }
}

return xDoc;</xsc:Java>
      </xsc:Item>
    </Source>
  </AdsContextlessCommandDefinition>
</AdsDefinition>