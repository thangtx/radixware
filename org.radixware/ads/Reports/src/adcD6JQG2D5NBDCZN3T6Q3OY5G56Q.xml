<?xml version="1.0" encoding="UTF-8"?>
<AdsDefinition xmlns="http://schemas.radixware.org/adsdef.xsd" xmlns:xsc="http://schemas.radixware.org/xscml.xsd" FormatVersion="0">
  <AdsClassDefinition Id="adcD6JQG2D5NBDCZN3T6Q3OY5G56Q" Name="ReportsServerUtils" Type="3" Environment="server">
    <AccessRules>
      <Transparence Extendable="false"/>
    </AccessRules>
    <Headers>
      <Src Name="HeaderadcNBXCKJDQ55EEFIFMF42J5AGSXY"/>
    </Headers>
    <Bodies>
      <Src Name="BodyadcKSEW3XEB7ZD35JYWB37OIIAUIQ"/>
    </Bodies>
    <MethodGroup Id="cmgN53ZLIQ5NZEULCII6UXQWRYL5M" Name="Root"/>
    <PropertyGroup Id="cpgYDD4V3AJYJHWHPDIQWKZ3QT5EU" Name="Root"/>
    <Properties/>
    <Methods>
      <Method Id="mthGKHEGU6ORFBI5HAH3DRQS3HMM4" Name="instantiateReportByClassId" Nature="0" IsOverride="false">
        <AccessRules IsStatic="true"/>
        <Parameters>
          <Parameter Name="reportClassId" Id="mprPHRDC4WVOFFPJOZCWAOOD3X3TU">
            <Type TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="411" Path="pdcReport____________________"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>final Class&lt;?> reportClass = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcArte______________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcArte______________________ mthJ22YS76JKFBLHMS32FAYSH3QNI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>().getClass(reportClassId);
</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcArte______________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcArte______________________ mthX22GMFYBKNC6RGIHJSGRQQ7K2A" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>().DefManager.getClassDef(reportClassId); //check definition

try{
    return (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcReport____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>)reportClass.newInstance();
}catch(IllegalAccessException ex){
    throw new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="axcTNXCEKEORVFRFDUEZO3MB5REHQ mth5TTUPQZBRBFJPJTYFH3A54IZFY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>("Unable to instantiate report", ex);
}catch(InstantiationException ex){
    throw new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="axcTNXCEKEORVFRFDUEZO3MB5REHQ mth5TTUPQZBRBFJPJTYFH3A54IZFY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>("Unable to instantiate report", ex);
}
</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mth4ATAR5KP3VDFTPER44OASZQKJI" Name="loadParamFromXml" Nature="0" IsOverride="false">
        <AccessRules IsStatic="true"/>
        <Parameters>
          <Parameter Name="report" Id="mprE2VPZZLJHJHX7DYS2NBDXMR7FI">
            <Type TypeId="411" Path="pdcReport____________________"/>
          </Parameter>
          <Parameter Name="propId" Id="mprKNUAMU5ZVBBMBEL7IC4OMU73WE">
            <Type TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
          </Parameter>
          <Parameter Name="xProp" Id="mprWJQCC3BDOJHYDFHQ5ZF7RXHAOI">
            <Type TypeId="451" Path="xsd6JHHAUMDPXORDBMMABIFNQAABA" extStr="Property"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="400" extStr="java.lang.Object"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>if (xProp==null)
    return null;

final </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcB2WQJNOFRZFV7PGAJ7SCXJ5IPM"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> propDef = report.RadMeta.getPropById(propId);
Object paramValue;

if (propDef instanceof org.radixware.kernel.server.meta.clazzes.IRadRefPropertyDef){
    org.radixware.kernel.server.meta.clazzes.IRadRefPropertyDef refPropDef =
            (org.radixware.kernel.server.meta.clazzes.IRadRefPropertyDef)propDef;
    final </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> refEntityId = refPropDef.DestinationEntityId;
    paramValue = org.radixware.kernel.server.arte.services.eas.EasValueConverter.easPropXmlVal2ObjVal(report.Arte, xProp, propDef.ValType, refEntityId);
    if (paramValue instanceof </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcPid_______________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>){
        paramValue = report.Arte.getEntityObject((</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcPid_______________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>)paramValue);
    }
}else{
    paramValue = org.radixware.kernel.server.arte.services.eas.EasValueConverter.easPropXmlVal2ObjVal(report.Arte, xProp, propDef.ValType, null);
}

return paramValue;
</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mth3UTNXYSAWFFV3FITOB5FA4BHKU" Name="loadParamsFromXml" Nature="0" IsOverride="false">
        <AccessRules IsStatic="true"/>
        <Parameters>
          <Parameter Name="report" Id="mprNGL7DFYJYFHP5BWMSNN5WYRKSU">
            <Type TypeId="411" Path="pdcReport____________________"/>
          </Parameter>
          <Parameter Name="xmlProps" Id="mpr24ZCM3B3JZA4HF7PQU2ZYC23LY">
            <Type TypeId="400" extStr="java.util.List">
              <xsc:GenericArguments>
                <xsc:Argument DerivationRule="extends" Alias="?">
                  <xsc:Type TypeId="451" Path="xsd6JHHAUMDPXORDBMMABIFNQAABA" extStr="Property"/>
                </xsc:Argument>
              </xsc:GenericArguments>
            </Type>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="400" extStr="java.util.HashMap">
          <xsc:GenericArguments>
            <xsc:Argument Alias="K">
              <xsc:Type TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Argument>
            <xsc:Argument Alias="V">
              <xsc:Type TypeId="400" extStr="java.lang.Object"/>
            </xsc:Argument>
          </xsc:GenericArguments>
        </ReturnType>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>final java.util.HashMap&lt;</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, Object> paramId2Value = new java.util.HashMap&lt;</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, Object>();

for (org.radixware.schemas.eas.Property xProp : xmlProps) {
    final </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> propId = xProp.getId();
    final Object paramValue = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcD6JQG2D5NBDCZN3T6Q3OY5G56Q mth4ATAR5KP3VDFTPER44OASZQKJI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(report, propId, xProp);
    paramId2Value.put(propId, paramValue);
}

return paramId2Value;</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthUE47P4422JHNJBMWVV6AOE6AME" Name="openFileOutResource" Nature="0" IsOverride="false">
        <AccessRules IsStatic="true"/>
        <Parameters>
          <Parameter Name="fileName" Id="mprRSHNDPO4MJD7JPBC4GVPOH4P2M">
            <Type TypeId="21"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="411" Path="pdcFileOutResource___________"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>try {
    return new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcFileOutResource___________ mthRTCDLQYWGZCCLBWYK74OTYDKFI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(
            </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcArte______________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcArte______________________ mthX22GMFYBKNC6RGIHJSGRQQ7K2A" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(),
            fileName,
            </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acsQ2VTKPOMHTNRDCGPABIFNQAABA aciEOBEJTYZVPORDJHCAANE2UAFXA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>,
            </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acsFIH6I56MHTNRDCGPABIFNQAABA aciE6BEJTYZVPORDJHCAANE2UAFXA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>);
} catch (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axcWGDHFHONYFCQFIQSELYRVS7DJ4"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> ex) {
    throw new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="axcTNXCEKEORVFRFDUEZO3MB5REHQ mth5TTUPQZBRBFJPJTYFH3A54IZFY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>("Unable to open file out resource", ex);
} catch (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axcTYUDRQZMVJFTZNOQKKR2LEJUDU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> ex) {
    throw new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="axcTNXCEKEORVFRFDUEZO3MB5REHQ mth5TTUPQZBRBFJPJTYFH3A54IZFY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>("Unable to open file out resource", ex);
} catch (InterruptedException ex) {
    throw new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="axcTNXCEKEORVFRFDUEZO3MB5REHQ mth5TTUPQZBRBFJPJTYFH3A54IZFY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>("Unable to open file out resource", ex);
}
</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mth6XXQ4DVKYFEJNJ4HYZJWOXGGJE" Name="generateReport" Nature="0" IsOverride="false">
        <AccessRules IsStatic="true"/>
        <Parameters>
          <Parameter Name="context" Id="mprMSAGNQBC6BA3HORTK5XPNFKFWU">
            <Type TypeId="411" Path="pdcEntity____________________"/>
          </Parameter>
          <Parameter Name="input" Id="mpr36WEAJISWBB2BNR5QWIKH6O2AA">
            <Type TypeId="451" Path="xsdPYPQ5263TRFAVOUN4WRU4ZOPQ4" extStr="GenerateReportRqDocument"/>
          </Parameter>
        </Parameters>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>final String pidAsStr = input.GenerateReportRq.ReportPubPid;
</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcPid_______________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> pid = new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcPid_______________________ mthKCMJGSZYFREVLCWPBDG5YROTDE" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcArte______________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcArte______________________ mthX22GMFYBKNC6RGIHJSGRQQ7K2A" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(), </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="tblUNC67IF5OBCX7NOPNLQOCUG374"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, pidAsStr);
</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aecUNC67IF5OBCX7NOPNLQOCUG374"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> pub = (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aecUNC67IF5OBCX7NOPNLQOCUG374"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>)</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcArte______________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcArte______________________ mthYY6FOOADRTNRDCISABIFNQAABA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(pid);
pub.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecUNC67IF5OBCX7NOPNLQOCUG374 mthAK3L7LWYAVC5DIXCO5HLBYKAQE" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(context, input);
</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthWN47TGMGLRHKRNLMOLEFZ77LII" Name="getClassInfo" Nature="0" IsOverride="false">
        <AccessRules IsStatic="true"/>
        <Parameters>
          <Parameter Name="classId" Id="mprMSQOPCYBZVA6LJNLETYQP2YYKY">
            <Type TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="21"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>if (classId == null) {
    return String.valueOf(classId);
}

try {
    final </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcB72UJA5VUBF67BJLQSMCSA6L7Y"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> classDef = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcArte______________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcArte______________________ mthX22GMFYBKNC6RGIHJSGRQQ7K2A" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>().DefManager.getClassDef(classId);
    final String name = classDef.Name;
    return "'" + name + "'" + " (#" + String.valueOf(classId) + ")";
} catch (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axc6XYNZ22YSZEKDKWH2SWRGBTC6I"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> ex) {
    return "#" + String.valueOf(classId);
}
</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthQJFTJCZP7VCMRD6SH5MI75TW2M" Name="getClassInfo" Nature="0" IsOverride="false">
        <AccessRules IsStatic="true"/>
        <Parameters>
          <Parameter Name="entity" Id="mprACZWNKSPXJDZZIXR5PT36APXMA">
            <Type TypeId="411" Path="pdcEntity____________________"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="21"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>if (entity != null) {
    return "'" + entity.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcEntity____________________ mthNAAWAWQX6PNRDA2JAAMPGXSZKU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>() + "' (#" + entity.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcEntity____________________ mth3VQXRGQW6PNRDA2JAAMPGXSZKU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>() + ")";
} else {
    return String.valueOf(entity);
}
</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mth3553PKEF2FDX3G7BLQFB45KSDQ" Name="findParameterBindingById" Nature="0" IsOverride="false">
        <AccessRules IsStatic="true"/>
        <Parameters>
          <Parameter Name="parametersBindingDoc" Id="mprXNQBUNPM6RE7ZACIFGBGIHI7SU">
            <Type TypeId="451" Path="xsdPYPQ5263TRFAVOUN4WRU4ZOPQ4" extStr="ParametersBindingDocument"/>
          </Parameter>
          <Parameter Name="paramId" Id="mprSIHCZKHHZNFS3A4YH2AXXDQ7BQ">
            <Type TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="451" Path="xsdPYPQ5263TRFAVOUN4WRU4ZOPQ4" extStr="ParametersBindingType.ParameterBinding"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>if (parametersBindingDoc!=null){
    </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="451" Path="xsdPYPQ5263TRFAVOUN4WRU4ZOPQ4" extStr="ParametersBindingType"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> parametersBinding = parametersBindingDoc.getParametersBinding();
    if (parametersBinding!=null){
        final java.util.List&lt;</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="451" Path="xsdPYPQ5263TRFAVOUN4WRU4ZOPQ4" extStr="ParametersBindingType.ParameterBinding"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>> bindingList = parametersBinding.ParameterBindingList;
        if (bindingList!=null){
            for (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="451" Path="xsdPYPQ5263TRFAVOUN4WRU4ZOPQ4" extStr="ParametersBindingType.ParameterBinding"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> binding : bindingList){
                if (paramId.equals(binding.ParameterId)){
                    return binding;
                }
            }
        }
    }
}
return null;
</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
    </Methods>
  </AdsClassDefinition>
</AdsDefinition>