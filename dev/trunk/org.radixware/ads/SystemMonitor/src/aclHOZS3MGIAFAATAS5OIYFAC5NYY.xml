<?xml version="1.0" encoding="UTF-8"?>
<AdsDefinition xmlns="http://schemas.radixware.org/adsdef.xsd" xmlns:xsc="http://schemas.radixware.org/xscml.xsd" FormatVersion="6">
  <AdsClassDefinition Id="aclHOZS3MGIAFAATAS5OIYFAC5NYY" Name="Task.SysMon.MetricCalculate" Type="2" ClientEnvironment="explorer">
    <AccessRules/>
    <Headers>
      <Src Name="HeaderadcT2NY4LLUQJE3HOVV73TUNVQAOQ">
        <xsc:Item>
          <xsc:Java>import org.radixware.kernel.server.monitoring.IStatValue;
import org.radixware.kernel.server.monitoring.IEventValue;
import org.radixware.kernel.server.exceptions.FilterParamNotDefinedException;
import java.util.HashMap;
import java.util.Map;
import org.radixware.kernel.server.types.QueryTranslateResult;
import org.radixware.kernel.server.monitoring.EventValue;
import org.radixware.kernel.server.monitoring.SensorCoordinates;
import org.radixware.kernel.server.monitoring.EMetricType;
import org.radixware.kernel.server.monitoring.MetricDescription;
import org.radixware.kernel.server.monitoring.MetricParameters;
import org.radixware.kernel.server.monitoring.MetricRecord;
</xsc:Java>
        </xsc:Item>
        <xsc:Item>
          <xsc:Java>import org.radixware.kernel.server.monitoring.MetricRecordWriter;
</xsc:Java>
        </xsc:Item>
        <xsc:Item>
          <xsc:Java>import org.radixware.kernel.server.monitoring.MonitoringDbQueries;
</xsc:Java>
        </xsc:Item>
        <xsc:Item>
          <xsc:Java>import org.radixware.kernel.server.dbq.SqmlTranslator;
</xsc:Java>
        </xsc:Item>
      </Src>
    </Headers>
    <Bodies>
      <Src Name="BodyadcNWKVMLIUJVAPPLXK3GGCRJLL7E"/>
    </Bodies>
    <MethodGroup Id="cmgTCTDZL2A4RG2JAE5RUSMDE5HAA" Name="Root"/>
    <PropertyGroup Id="cpg3WPG77XAWFCCDPVLD4VOHN2LQY" Name="Root"/>
    <Properties/>
    <Methods>
      <Method Id="mthN36NOGMSW5EGZIX2JAVCBWM2RU" Name="execute" Nature="0" IsOverride="true">
        <AccessRules/>
        <Parameters>
          <Parameter Name="prevExecTime" Id="mpr5T2TTRSZ3VG6NE3C5ZK7PAGXK4">
            <Type TypeId="12"/>
          </Parameter>
          <Parameter Name="curExecTime" Id="mpr4MDSU3P7QJCJNCWT3NCWCQD3OM">
            <Type TypeId="12"/>
          </Parameter>
        </Parameters>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>final </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> metrics = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 mth_stmt_execute_____________" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(curExecTime);
try {
    final MonitoringDbQueries queries = new MonitoringDbQueries(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcArte______________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcArte______________________ mthPDUPVLPYXTNRDISQAAAAAAAAAA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(), </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcArte______________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcArte______________________ mthX22GMFYBKNC6RGIHJSGRQQ7K2A" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>().Trace, null);
    try {
        final MetricRecordWriter writer = new MetricRecordWriter(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcArte______________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcArte______________________ mthPDUPVLPYXTNRDISQAAAAAAAAAA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(), queries, </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcArte______________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcArte______________________ mthRCSWGPQALFCKFHNAQBDPJ23WWA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acsTNLJBZADHTNRDIPGABQAQNO6EY aci4VSRGAWJBFEH3IAVZIWZJQVMTI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>), MetricRecordWriter.ECacheMode.OFF, MetricRecordWriter.ECommitPolicy.NO_COMMIT);
        try {
            while (metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcCursor____________________ mthBNNDZ4NDINDL3IT3X6TOSIN7TQ" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>()) {
                try {
                    final MetricParameters parameters;
                    final MetricRecord record;
                    if (metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfNU5OWQYKNNFCXLRXQNA4PKX4IE" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> == </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acsF47GG6XUPJH5ZKZFOWDK7GI7LE aciJG57PBLAWRCQVG2HZLZWKTSJME" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.Value) {//user SQL metric
                        final Double d = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aclHOZS3MGIAFAATAS5OIYFAC5NYY mthSFU7SOJ4XVC5TCTL2ZH6UQYVGU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfQDIA23IKNVHNFDGVV6GHAUOXO4" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfECK2IB4KCFEVTD52GPJA6GMVMI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prf3RAZGGCM3JGMHKK73JNHMSQOXQ" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, curExecTime);
                        if (d == null) {
                            </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthUVXH2WARWLOBDLJLAAMPGXSZKU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:EventCode StringId="mlsXV7TUFGXGZF3BMKNPVZW3DYFTI"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfECK2IB4KCFEVTD52GPJA6GMVMI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.toString());
                            continue;
                        }
                        parameters = new MetricParameters(new MetricDescription(metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfNU5OWQYKNNFCXLRXQNA4PKX4IE" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, EMetricType.EVENT, SensorCoordinates.none()), metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfECK2IB4KCFEVTD52GPJA6GMVMI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.longValue(), -1);
                        record = new MetricRecord(parameters, new EventValue(null, d, curExecTime.Time));
                    } else if (metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfNU5OWQYKNNFCXLRXQNA4PKX4IE" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> == </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acsF47GG6XUPJH5ZKZFOWDK7GI7LE aciN5HFLHHNURAKVPKT6YEIJPSHAY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.Value) {
                        final </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aclZFOH5AAO5ZCRVDLVJJGQEPXTMU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> metricType = (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aclZFOH5AAO5ZCRVDLVJJGQEPXTMU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>) </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM mth_loadByPK_________________" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfECK2IB4KCFEVTD52GPJA6GMVMI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, true);
                        double val = metricType.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aclZFOH5AAO5ZCRVDLVJJGQEPXTMU pruLQHRIQUNLZC2DJXETRM5QKOWMY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aclAPQMCEE7LJD5BJR2BJQWYGKJNE mth7XSYJBRK6JEF5BBSV4TU6BILFM" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(metricType, metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prf3RAZGGCM3JGMHKK73JNHMSQOXQ" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, curExecTime);
                        final </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcTS3X67BRTBDK7GGP26KPMKP6KE"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> metricVal = new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcTS3X67BRTBDK7GGP26KPMKP6KE mth4ENDGHWNJ5HCBKLTV5HXMH6GOE" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(null, val, curExecTime.Time);
                        parameters = new MetricParameters(new MetricDescription(metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfNU5OWQYKNNFCXLRXQNA4PKX4IE" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, EMetricType.EVENT, SensorCoordinates.none()), metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfECK2IB4KCFEVTD52GPJA6GMVMI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.longValue(), -1);
                        record = new MetricRecord(parameters, metricVal);
                    } else if (metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfNU5OWQYKNNFCXLRXQNA4PKX4IE" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> == </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acsF47GG6XUPJH5ZKZFOWDK7GI7LE aciCAT24UCBKJFCVMBUMZUTVSLB2E" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.Value) {
                        final </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="acl5EFI4BGH6JEFVEZWH6L2LSVQK4"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> metricType = (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="acl5EFI4BGH6JEFVEZWH6L2LSVQK4"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>) </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM mth_loadByPK_________________" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfECK2IB4KCFEVTD52GPJA6GMVMI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, true);
                        </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcFONHNOJX6JEG3JTWB4NEWREMWQ"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> val = metricType.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acl5EFI4BGH6JEFVEZWH6L2LSVQK4 pru6PA7ZCF6TVAM5HWW6FHC2T4J44" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aclZUPKE7H3JBCBPN7L6CCKBPB7ZA mthLRXDXQBWCFGMVBMVNJSTBES5XM" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(metricType, metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prf3RAZGGCM3JGMHKK73JNHMSQOXQ" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, curExecTime);
                        if (val == null) {
                            </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthUVXH2WARWLOBDLJLAAMPGXSZKU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:EventCode StringId="mlsLCLSY2RGMJBNLM7G5SC4HEMJIE"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfECK2IB4KCFEVTD52GPJA6GMVMI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.toString());
                            continue;
                        }
                        final </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcRF4NNLJCFRETZC4NEP3XLVK5BI"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> metricVal = new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcRF4NNLJCFRETZC4NEP3XLVK5BI mthZIZWLXWGJVANDCYYNL7NSLXVTA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(
                                val.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcFONHNOJX6JEG3JTWB4NEWREMWQ prdPMN62R4A3ZEIXDT5QZNHYBRRZQ" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> == null ? null : val.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcFONHNOJX6JEG3JTWB4NEWREMWQ prdPMN62R4A3ZEIXDT5QZNHYBRRZQ" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.doubleValue(),
                                val.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcFONHNOJX6JEG3JTWB4NEWREMWQ prd6ZNTDU7HANFVDIILT65HM4MHQA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> == null ? null : val.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcFONHNOJX6JEG3JTWB4NEWREMWQ prd6ZNTDU7HANFVDIILT65HM4MHQA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.doubleValue(),
                                val.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcFONHNOJX6JEG3JTWB4NEWREMWQ prdQLLPTBZLJFGBPO54LHCGX2BML4" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>,
                                metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prf3RAZGGCM3JGMHKK73JNHMSQOXQ" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> == null ? curExecTime.Time : metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prf3RAZGGCM3JGMHKK73JNHMSQOXQ" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.Time,
                                curExecTime.Time);
                        parameters = new MetricParameters(new MetricDescription(metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfNU5OWQYKNNFCXLRXQNA4PKX4IE" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, EMetricType.STATISTIC, SensorCoordinates.none()), metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfECK2IB4KCFEVTD52GPJA6GMVMI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.longValue(), -1);
                        record = new MetricRecord(parameters, metricVal);
                    } else {//application metric
                        final </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcNKEVSFTMMFD6VJVO5E4UO5KDHI"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> metricValue = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aclHOZS3MGIAFAATAS5OIYFAC5NYY mthEWYN3DTWXFAMPMZOY6XJT43ARM" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfECK2IB4KCFEVTD52GPJA6GMVMI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prf3RAZGGCM3JGMHKK73JNHMSQOXQ" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, curExecTime);
                        if (metricValue == null) {
                            </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthUVXH2WARWLOBDLJLAAMPGXSZKU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:EventCode StringId="mls3S4AVVHN5JB7HFLDS7XSG7FWQU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfECK2IB4KCFEVTD52GPJA6GMVMI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.toString());
                            continue;
                        }
                        if (metricValue instanceof IStatValue) {
                            parameters = new MetricParameters(new MetricDescription(metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfNU5OWQYKNNFCXLRXQNA4PKX4IE" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, EMetricType.STATISTIC, SensorCoordinates.none()), metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfECK2IB4KCFEVTD52GPJA6GMVMI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.longValue(), -1);
                            record = new MetricRecord(parameters, (IStatValue) metricValue);
                        } else {
                            parameters = new MetricParameters(new MetricDescription(metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfNU5OWQYKNNFCXLRXQNA4PKX4IE" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, EMetricType.EVENT, SensorCoordinates.none()), metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfECK2IB4KCFEVTD52GPJA6GMVMI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.longValue(), -1);
                            record = new MetricRecord(parameters, (IEventValue) metricValue);

                        }
                    }
                    writer.add(record);
                    writer.flush();
                } catch (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axcVN3PK4FIINBOLIFTWXCBTA6UHI"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> ex) {
                    </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthD6XIGP2SRPNRDCISABIFNQAABA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>("Metric #" + metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acc3ZE7BMYAVZG4LKZCVU4BLLIF34 prfECK2IB4KCFEVTD52GPJA6GMVMI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.toString() + " calculation error: " + </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthI2EAXRIFRTNRDCISABIFNQAABA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(ex), </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acsTNLJBZADHTNRDIPGABQAQNO6EY aci4VSRGAWJBFEH3IAVZIWZJQVMTI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>);
                }
            }
        } finally {
            writer.setConnection(null);
        }
    } finally {
        queries.setConnection(null);
    }
} finally {
    metrics.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcCursor____________________ mth_stmt_close_______________" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>();
}
</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthSFU7SOJ4XVC5TCTL2ZH6UQYVGU" Name="calcUserQuery" Nature="0" IsOverride="false">
        <AccessRules IsPublished="false"/>
        <Parameters>
          <Parameter Name="userQuery" Id="mprIG5Z6FR6W5CVTHWGIK4UHJCKEU">
            <Type TypeId="27"/>
          </Parameter>
          <Parameter Name="metricTypeId" Id="mpr2J57WMU2S5HKJDM77MAVILN5EI">
            <Type TypeId="2"/>
          </Parameter>
          <Parameter Name="lastControlTime" Id="mprEAXLERGKBJHZBOY4H4HHP4X7CI">
            <Type TypeId="12"/>
          </Parameter>
          <Parameter Name="curControlTime" Id="mpr2RTWWXTPXZGCPD6Q5XM5NBHWLA">
            <Type TypeId="12"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="400" extStr="java.lang.Double"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>final org.radixware.kernel.server.sqml.Sqml sqml;
try {
    org.radixware.schemas.xscml.SqmlDocument sqmlDoc = org.radixware.schemas.xscml.SqmlDocument.Factory.parse(userQuery.getCharacterStream());
    sqml = org.radixware.kernel.server.sqml.Sqml.Factory.loadFrom("", sqmlDoc.Sqml);
} catch (Exception ex) {
    </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthUALS3BVVSTNRDDXBABIFNQAAAE" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:EventCode StringId="mlsDGWZKA377JASRDRFZDILITKN6A"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="221"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthI2EAXRIFRTNRDCISABIFNQAABA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(ex)));
    return null;   
}
QueryTranslateResult result = SqmlTranslator.translateSingleQuery(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcArte______________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcArte______________________ mthX22GMFYBKNC6RGIHJSGRQQ7K2A" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(), sqml, this.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcEntity____________________ mthZ4HH5VYW6PNRDA2JAAMPGXSZKU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>());
final Map&lt;</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, Object> paramValues = new HashMap&lt;</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcELH54EKVCJAATNTLFHHCSVHPZU"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, Object>();
paramValues.put(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcKDF543XQWZEI5DORWHNFIYCZ2A"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcKDF543XQWZEI5DORWHNFIYCZ2A mthGFAPI2TPWZEJHN436UQMWZIPZM" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acs563QRZVDBBFOJIHDROPZ6NROWQ aciC3NWY5INJVBYRJZM7GAJYDPWNI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.Value), curControlTime);
paramValues.put(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcKDF543XQWZEI5DORWHNFIYCZ2A"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcKDF543XQWZEI5DORWHNFIYCZ2A mthGFAPI2TPWZEJHN436UQMWZIPZM" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acs563QRZVDBBFOJIHDROPZ6NROWQ aci4B35LNXOUFCMRC3TKPPODMMACU" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.Value), metricTypeId);
paramValues.put(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcKDF543XQWZEI5DORWHNFIYCZ2A"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcKDF543XQWZEI5DORWHNFIYCZ2A mthGFAPI2TPWZEJHN436UQMWZIPZM" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acs563QRZVDBBFOJIHDROPZ6NROWQ aciHOJ7COZO4ZGQHAPJRJV2KZIJ3M" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.Value), lastControlTime);
try {
    final java.sql.PreparedStatement statement = result.prepare(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcArte______________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcArte______________________ mthX22GMFYBKNC6RGIHJSGRQQ7K2A" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(), paramValues);
    try {
        java.sql.ResultSet rs = statement.executeQuery();
        if (rs.next()) {
            final Double d = rs.getDouble(1);
            return d;
        }
    } finally {
        statement.close();
    }
} catch (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axcG6PZC4JQPBAI5C7ZFKWL4SWGKA"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> exception) {
    </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthD6XIGP2SRPNRDCISABIFNQAABA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthI2EAXRIFRTNRDCISABIFNQAABA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(exception), </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acsTNLJBZADHTNRDIPGABQAQNO6EY aci4VSRGAWJBFEH3IAVZIWZJQVMTI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>);
} catch (FilterParamNotDefinedException exception) {
    </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthD6XIGP2SRPNRDCISABIFNQAABA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="pdcTrace_____________________"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="pdcTrace_____________________ mthI2EAXRIFRTNRDCISABIFNQAABA" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(exception), </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="acsTNLJBZADHTNRDIPGABQAQNO6EY aci4VSRGAWJBFEH3IAVZIWZJQVMTI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>);
}
return null;</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthEWYN3DTWXFAMPMZOY6XJT43ARM" Name="calcAppMetric" Nature="0" IsOverride="false">
        <AccessRules IsPublished="false"/>
        <Parameters>
          <Parameter Name="metricTypeId" Id="mprU2WWZ6L2OJBUTALUPJL6CUJX7Q">
            <Type TypeId="2"/>
          </Parameter>
          <Parameter Name="lastControlTime" Id="mprW4YKAHBLNRDTBDQITIXXGHFB4E">
            <Type TypeId="12"/>
          </Parameter>
          <Parameter Name="curControlTime" Id="mprGLK36GULCFFVNEJUGFTGJ4RYZQ">
            <Type TypeId="12"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="411" Path="adcNKEVSFTMMFD6VJVO5E4UO5KDHI"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> metricType = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aec2H6SULJHXJGFVIS6UVHRWQS4AM mth_loadByPK_________________" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(metricTypeId, true);
if(metricType instanceof </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aclIQCN5O35ZJHYRBCK4IE6RKQYRQ"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>) {
    </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aclIQCN5O35ZJHYRBCK4IE6RKQYRQ"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> eventMetricType = (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aclIQCN5O35ZJHYRBCK4IE6RKQYRQ"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>) metricType;
    return eventMetricType.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aclIQCN5O35ZJHYRBCK4IE6RKQYRQ mthBGY2OJS6LFCD5B3BNBHXUSGX6A" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(lastControlTime, curControlTime);
} else {
    </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aclJFUUR32PQ5BTLNMJVOAKUJZOUA"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> statMetricType = (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aclJFUUR32PQ5BTLNMJVOAKUJZOUA"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>) metricType;
    return statMetricType.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aclJFUUR32PQ5BTLNMJVOAKUJZOUA mthBS7ODJBINFEE3ESFD3EK7RWYPM" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(lastControlTime, curControlTime);
}</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthKIF62UYHLRDRPPGLIIMJRLXSUI" Name="isSingletone" Nature="0" IsOverride="true">
        <AccessRules/>
        <ReturnType TypeId="401" extStr="boolean"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>return true;</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
    </Methods>
    <Entity EntityId="tblWZB7K4HLJPOBDCIUAALOMT5GDM"/>
    <Presentations ObjectTitleId="mlsWKOZB4XYMZDMZHNPNHY5OTYJM4">
      <ClassCatalogs>
        <ClassCatalog Id="eccVXWRKQLYJTOBDCIVAALOMT5GDM" Name="Default">
          <ClassRef Order="620.0"/>
        </ClassCatalog>
      </ClassCatalogs>
    </Presentations>
    <Extends TypeId="411" Path="aclZDLN466RV5FE3BQIWSX56ZAETQ"/>
  </AdsClassDefinition>
</AdsDefinition>