<?xml version="1.0" encoding="UTF-8"?>
<AdsDefinition xmlns="http://schemas.radixware.org/adsdef.xsd" xmlns:xsc="http://schemas.radixware.org/xscml.xsd" FormatVersion="0">
  <AdsClassDefinition Id="adcWYF5UGWT4ZAT7NTUSSOFE3P2WQ" Name="PasswordDialogController" Type="3" Environment="common-client">
    <AccessRules IsPublished="false">
      <Transparence Extendable="false"/>
    </AccessRules>
    <Headers>
      <Src Name="HeaderadcQKS7XC4VRNA2TB57I4I6VVHMIM"/>
    </Headers>
    <Bodies>
      <Src Name="BodyadcUVVYH7SOVFE3ROP4TZZG6C42Y4"/>
    </Bodies>
    <MethodGroup Id="cmgRGLYSJ3TFVAFVB54ADBKNQPOGU" Name="Root"/>
    <PropertyGroup Id="cpg4XODDGIGIVEWTNG64NYMOVGYCQ" Name="Root"/>
    <Properties/>
    <Methods>
      <Method Id="mthNANSAC3E2NF7RGP4ECEQ6XOEHU" Name="updatePassword" Nature="0" IsOverride="false">
        <AccessRules IsPublished="false" IsStatic="true"/>
        <Parameters>
          <Parameter Name="userModel" Id="mprJ2FFXTUPKJETFMDPVRSLVSDDYQ">
            <Type TypeId="411" Path="adc24D3IJUTHVH7HJZFW2PSATWURU"/>
          </Parameter>
          <Parameter Name="password" Id="mpr4WLH3VVAPZCVTONTSLC6UIASRI">
            <Type TypeId="21"/>
          </Parameter>
          <Parameter Name="confirmation" Id="mprTETSNDW7H5B4NNITVH65MDASQQ">
            <Type TypeId="21"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="401" extStr="boolean"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>if (password == null || password.isEmpty()) {
    userModel.Environment.messageError(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:LocalizedString StringId="mls2IZOMZMJ4VETPNK3BTIYBZQEDU">
                <xsc:Presentation>Error</xsc:Presentation>
              </xsc:LocalizedString>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:LocalizedString StringId="mlsXKRL76V5NFBWDCNKZX3VLCCB3E">
                <xsc:Presentation>Password not defined</xsc:Presentation>
              </xsc:LocalizedString>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>);
    return false;
}
if (!password.equals(confirmation)) {
    userModel.Environment.messageError(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:LocalizedString StringId="mlsFR72NLZJEBFFFPMYWU6KW27YFY">
                <xsc:Presentation>Error</xsc:Presentation>
              </xsc:LocalizedString>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:LocalizedString StringId="mlsIPYRUKJ6YFAXVM5FALAGFO4624">
                <xsc:Presentation>New password confirmation does not match new password.</xsc:Presentation>
              </xsc:LocalizedString>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>);
    return false;
}
final </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="451" Path="xsd6JHHAUMDPXORDBMMABIFNQAABA" extStr="PasswordRequirementsDocument">
                <xsc:Presentation>Arte::EasXsd:PasswordRequirementsDocument</xsc:Presentation>
              </xsc:TypeDeclaration>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> pwdReqXml = 
    (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="451" Path="xsd6JHHAUMDPXORDBMMABIFNQAABA" extStr="PasswordRequirementsDocument">
                <xsc:Presentation>Arte::EasXsd:PasswordRequirementsDocument</xsc:Presentation>
              </xsc:TypeDeclaration>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>)userModel.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adc24D3IJUTHVH7HJZFW2PSATWURU mthI4ZEAFBPYRGELAKWN3W2VE4SA4" Invoke="true">
                <xsc:Presentation>getProperty</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecSY4KIOLTGLNRDHRZABQAQH3XQ4 prdJGY5G5O23VG27HRRWMZD223LPY">
                <xsc:Presentation>Acs::User:passwordRequirements</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>).</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcYPRT23KRRVAX7AN3727VBD5VI4 mthLSANOBLXINHNPFDVOGRUZDVNV4" Invoke="true">
                <xsc:Presentation>getValueObject</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>();
final </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="21">
                <xsc:Presentation>Str</xsc:Presentation>
              </xsc:TypeDeclaration>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> userName = (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="21">
                <xsc:Presentation>Str</xsc:Presentation>
              </xsc:TypeDeclaration>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>)userModel.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adc24D3IJUTHVH7HJZFW2PSATWURU mthI4ZEAFBPYRGELAKWN3W2VE4SA4" Invoke="true">
                <xsc:Presentation>getProperty</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecSY4KIOLTGLNRDHRZABQAQH3XQ4 colEF6ODCYWY3NBDGMCABQAQH3XQ4">
                <xsc:Presentation>Acs::User:name</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>).</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcYPRT23KRRVAX7AN3727VBD5VI4 mthLSANOBLXINHNPFDVOGRUZDVNV4" Invoke="true">
                <xsc:Presentation>getValueObject</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>();
if (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcWYF5UGWT4ZAT7NTUSSOFE3P2WQ mthBMPL7XJBOJGI3KKKXDCFQTPI5I" Invoke="true">
                <xsc:Presentation>checkPasswordRequirements</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(pwdReqXml, password, userName, userModel.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcWNJFLWOECRBO7CUXYEJ2KTUCWM mthMSUGSQ6GQVCE7G4SXCEZPGABKQ" Invoke="true">
                <xsc:Presentation>getEnvironment</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>())){
    userModel.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adc24D3IJUTHVH7HJZFW2PSATWURU mthI4ZEAFBPYRGELAKWN3W2VE4SA4" Invoke="true">
                <xsc:Presentation>getProperty</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecSY4KIOLTGLNRDHRZABQAQH3XQ4 eprK3FTXQSCQRAAJPVNYCKOQSCK7U aemK3FTXQSCQRAAJPVNYCKOQSCK7U prdSGL3QG35NVANTBGL7EJW7HAXPI">
                <xsc:Presentation>Acs::User:General:General:Model:rawPassword</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>).</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="adcYPRT23KRRVAX7AN3727VBD5VI4 mthZBTI63XF4RBXJJXOH54ZV3GT6I" Invoke="true">
                <xsc:Presentation>setValueObject</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(password);
    return true;
}else{
    return false;
}</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthBMPL7XJBOJGI3KKKXDCFQTPI5I" Name="checkPasswordRequirements" Nature="0" IsOverride="false">
        <AccessRules IsPublished="false" IsStatic="true"/>
        <Parameters>
          <Parameter Name="pwdRequirementsXml" Id="mprIDQZSPL4BBE7DER6BQWGMLW5VU">
            <Type TypeId="451" Path="xsd6JHHAUMDPXORDBMMABIFNQAABA" extStr="PasswordRequirementsDocument"/>
          </Parameter>
          <Parameter Name="password" Id="mprXOS2P2GC5BBVJEN7ET6LFM55Z4">
            <Type TypeId="21"/>
          </Parameter>
          <Parameter Name="userName" Id="mpr6EVVOONG3NGDHN3XOTRT5SOY4I">
            <Type TypeId="21"/>
          </Parameter>
          <Parameter Name="environment" Id="mprMMAS24WRC5HMFI4E2NGVA34LG4">
            <Type TypeId="411" Path="aicFECOVQGBKZESNDPM6WAA6RXIMU"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="401" extStr="boolean"/>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>final </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="adcNGPHLVKYRZF2TFHKOOLH35WARM">
                <xsc:Presentation>Acs::PasswordRequirements</xsc:Presentation>
              </xsc:TypeDeclaration>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> pwdRequirements;
if (userName == null){
    pwdRequirements = 
        org.radixware.kernel.common.client.auth.ClientAuthUtils.getPasswordRequirements(pwdRequirementsXml.getPasswordRequirements(), null);
}else{
    pwdRequirements = 
        org.radixware.kernel.common.client.auth.ClientAuthUtils.getPasswordRequirements(pwdRequirementsXml.getPasswordRequirements(), userName.trim());
}

final </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="21">
                <xsc:Presentation>Str</xsc:Presentation>
              </xsc:TypeDeclaration>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> message = 
    org.radixware.kernel.common.client.auth.ClientAuthUtils.checkPassword(password, pwdRequirements, environment);
if (message==null){
    return true;
}else{
    environment.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aicFECOVQGBKZESNDPM6WAA6RXIMU mthA5MYDLGBIZFR7HVUDLFWB2FGJA" Invoke="true">
                <xsc:Presentation>messageError</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:LocalizedString StringId="mlsS36LPXYLIVFHTB6WADYML4E4OE"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, message);
    return false;
}</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
    </Methods>
  </AdsClassDefinition>
</AdsDefinition>