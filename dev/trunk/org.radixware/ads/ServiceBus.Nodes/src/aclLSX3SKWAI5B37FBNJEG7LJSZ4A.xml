<?xml version="1.0" encoding="UTF-8"?>
<AdsDefinition xmlns="http://schemas.radixware.org/adsdef.xsd" xmlns:xsc="http://schemas.radixware.org/xscml.xsd" FormatVersion="6">
  <AdsClassDefinition Id="aclLSX3SKWAI5B37FBNJEG7LJSZ4A" Name="TransformStage.Xquery" Type="2" ClientEnvironment="explorer">
    <AccessRules/>
    <Headers>
      <Src Name="HeaderadcPXAJXYLUN5G5BD2ECPHHRWRXYU"/>
    </Headers>
    <Bodies>
      <Src Name="Bodyadc7AS7HT6PSVGDDP226DNW6ACBGY"/>
    </Bodies>
    <MethodGroup Id="cmg5OYSCI3NHJHJXAPDYDLSLDN6II" Name="Root">
      <Group Id="cmgCZAXXGNSQRD53AXZYFGOKMMXX4" Name="Transform" Members="mthSGZU5VVZO5GKVEMBMJGCDCKXNY mthFMIEEEOGLRB45FJMFS7I7NFT5Y mthYTVBADGHXRBLJEFRDHYRQXBVDM"/>
    </MethodGroup>
    <PropertyGroup Id="cpgMQDH5HPVMFDJTEQUN7SFYQZO4A" Name="Root">
      <Group Id="cpgUC5ACD3ANZEU7OK2WAHIAT62BU" Name="Props" Members="pruY2JNSTATC5FQTH453TXTCKVBXY pruRTARBWVPKJCF3D2LGYY6VEGFNE"/>
    </PropertyGroup>
    <Properties>
      <Property Id="pruY2JNSTATC5FQTH453TXTCKVBXY" Name="xqueryRq" Nature="1" IsConst="false" IsOverride="false">
        <AccessRules/>
        <Type TypeId="21"/>
        <Presentation TitleId="mlsE73F2ROXXRHGXH2GHZZZ42D7ME" InheritanceMask="4">
          <Editing IsMemo="true" IsDuplicatesEnabled="true"/>
        </Presentation>
      </Property>
      <Property Id="pruRTARBWVPKJCF3D2LGYY6VEGFNE" Name="xqueryRs" Nature="1" IsConst="false" IsOverride="false">
        <AccessRules/>
        <Type TypeId="21"/>
        <Presentation TitleId="mlsYRUP6TLU2JCO5CAUNPXQR7ALGU" InheritanceMask="4">
          <Editing IsMemo="true" IsDuplicatesEnabled="true"/>
        </Presentation>
      </Property>
    </Properties>
    <Methods>
      <Method Id="mthSGZU5VVZO5GKVEMBMJGCDCKXNY" Name="checkConfig" Nature="0" IsOverride="true">
        <AccessRules/>
        <ThrownExceptions>
          <Exception TypeId="411" Path="axcEHBXU243BZDWFAGTAG3IW7YH5Q"/>
        </ThrownExceptions>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>if (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aclLSX3SKWAI5B37FBNJEG7LJSZ4A pruY2JNSTATC5FQTH453TXTCKVBXY" Invoke="true">
                <xsc:Presentation>xqueryRq</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> == null)
    throw new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="axcEHBXU243BZDWFAGTAG3IW7YH5Q mthKDF54GZJDNCEFNK4IETIBVI5NU" Invoke="true">
                <xsc:Presentation>PipelineConfigException</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:LocalizedString StringId="mlsYLXB76WHCFHEJNDVRIM4XIAGHE">
                <xsc:Presentation>Request XQuery not defined or invalid</xsc:Presentation>
              </xsc:LocalizedString>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, this);
if (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecTDP5BP5ZXBEOTJX74NH43PEPJA colEH6R5BGBKFDZDPVP3AFH353G24" Invoke="true">
                <xsc:Presentation>node</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> != null) {
    </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="aicYOBV2IFRZ5D25C2WMZBEIOWPWY">
                <xsc:Presentation>ServiceBus::IPipeline</xsc:Presentation>
              </xsc:TypeDeclaration>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> pipeline = </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecTDP5BP5ZXBEOTJX74NH43PEPJA colEH6R5BGBKFDZDPVP3AFH353G24" Invoke="true">
                <xsc:Presentation>node</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecPNJV5QTXIBGJPBHK64RO3LH73A mthYFZPW475EFFCLLXOYQHNVMU3UM" Invoke="true">
                <xsc:Presentation>getPipeline</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>();
    if (pipeline != null &amp;&amp; pipeline.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aicYOBV2IFRZ5D25C2WMZBEIOWPWY mthVVLOKJK5QNFKBMQPK5SNY4FANY" Invoke="true">
                <xsc:Presentation>isUniDirect</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>()) {
        return;
    }
}
if (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aclLSX3SKWAI5B37FBNJEG7LJSZ4A pruRTARBWVPKJCF3D2LGYY6VEGFNE" Invoke="true">
                <xsc:Presentation>xqueryRs</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> == null)
    throw new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="axcEHBXU243BZDWFAGTAG3IW7YH5Q mthKDF54GZJDNCEFNK4IETIBVI5NU" Invoke="true">
                <xsc:Presentation>PipelineConfigException</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:LocalizedString StringId="mlsMPQPLUHA5REBHIBCUX34E6QZEY">
                <xsc:Presentation>Response XQuery not defined or invalid</xsc:Presentation>
              </xsc:LocalizedString>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>, this);</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthFMIEEEOGLRB45FJMFS7I7NFT5Y" Name="processRequest" Nature="0" IsOverride="true">
        <AccessRules/>
        <Parameters>
          <Parameter Name="transformer" Id="mprTAZKMYNRURE63MPVJYSLHOILYM">
            <Type TypeId="411" Path="aecPNJV5QTXIBGJPBHK64RO3LH73A"/>
          </Parameter>
          <Parameter Name="rq" Id="mpr3VO6QLTUPRFD5BBDLJCXMYYUN4">
            <Type TypeId="451" Path="xsdNTKQF4ELCJG4PBYO4B7DR42TUQ" extStr="PipelineMessageRq"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="451"/>
        <ThrownExceptions>
          <Exception TypeId="411" Path="axcJUFSBLVXVZEYDIHHN4G3GICTXI"/>
        </ThrownExceptions>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>try {
    if (rq.PrevStage.Data != null) {
        </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="400" extStr="org.apache.xmlbeans.XmlObject"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>[] xmls = rq.PrevStage.Data.execQuery(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aclLSX3SKWAI5B37FBNJEG7LJSZ4A pruY2JNSTATC5FQTH453TXTCKVBXY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>);
        if (xmls != null &amp;&amp; xmls.length > 0)
            return xmls[0];
    }
} catch (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axcVN3PK4FIINBOLIFTWXCBTA6UHI"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> e) {
    transformer.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecPNJV5QTXIBGJPBHK64RO3LH73A mthQ7MQNDFPEVCSZM46CIFMM4ISAI" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>("Request transformation error (seq = " + </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecTDP5BP5ZXBEOTJX74NH43PEPJA col6VRRNROUN5EPBGG2O4VMSKLCVQ" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> + ")): " + e.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="axc6XYNZ22YSZEKDKWH2SWRGBTC6I mthAIARN4PFVBD6HJZSJNZIXYNYAY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>());
    if (e instanceof </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axcXJP5J6GEPZCERMRA74CCVXC3HI"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>)
        throw (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axcXJP5J6GEPZCERMRA74CCVXC3HI"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>)e;
    throw new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="axcTNXCEKEORVFRFDUEZO3MB5REHQ mth5TTUPQZBRBFJPJTYFH3A54IZFY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(e.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="axc6XYNZ22YSZEKDKWH2SWRGBTC6I mthAIARN4PFVBD6HJZSJNZIXYNYAY" Invoke="true"/>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(), e);
}

return null;</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
      <Method Id="mthYTVBADGHXRBLJEFRDHYRQXBVDM" Name="processResponse" Nature="0" IsOverride="true">
        <AccessRules/>
        <Parameters>
          <Parameter Name="transformer" Id="mprEMHVD5RESBGGTDUTF5WNPT2BRU">
            <Type TypeId="411" Path="aecPNJV5QTXIBGJPBHK64RO3LH73A"/>
          </Parameter>
          <Parameter Name="rs" Id="mprZMJOO4XYLJFPHGZIY5RHYYYCL4">
            <Type TypeId="451" Path="xsdNTKQF4ELCJG4PBYO4B7DR42TUQ" extStr="PipelineMessageRs"/>
          </Parameter>
          <Parameter Name="inRq" Id="mprF6OZU3V73ZCK7ETRCICYMENY4I">
            <Type TypeId="451"/>
          </Parameter>
          <Parameter Name="outRq" Id="mprVWOVQVQSIVAWJGTS4LXNQLZOJ4">
            <Type TypeId="451"/>
          </Parameter>
        </Parameters>
        <ReturnType TypeId="451"/>
        <ThrownExceptions>
          <Exception TypeId="411" Path="axcJUFSBLVXVZEYDIHHN4G3GICTXI"/>
        </ThrownExceptions>
        <Sources>
          <Src>
            <xsc:Item>
              <xsc:Java>if(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aclLSX3SKWAI5B37FBNJEG7LJSZ4A pruRTARBWVPKJCF3D2LGYY6VEGFNE" Invoke="true">
                <xsc:Presentation>xqueryRs</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> == null){
    return null;
}

try {
    if (rs.PrevStage.Data != null) {
        </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="400" extStr="org.apache.xmlbeans.XmlObject">
                <xsc:Presentation>org.apache.xmlbeans.XmlObject</xsc:Presentation>
              </xsc:TypeDeclaration>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>[] xmls = rs.PrevStage.Data.execQuery(</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aclLSX3SKWAI5B37FBNJEG7LJSZ4A pruRTARBWVPKJCF3D2LGYY6VEGFNE" Invoke="true">
                <xsc:Presentation>xqueryRs</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>);
        if (xmls != null &amp;&amp; xmls.length > 0)
            return xmls[0];
    }
} catch (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axcVN3PK4FIINBOLIFTWXCBTA6UHI">
                <xsc:Presentation>Exceptions::Exception</xsc:Presentation>
              </xsc:TypeDeclaration>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> e) {
    transformer.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecPNJV5QTXIBGJPBHK64RO3LH73A mthQ7MQNDFPEVCSZM46CIFMM4ISAI" Invoke="true">
                <xsc:Presentation>traceError</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>("Response transformation error (seq = " + </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="aecTDP5BP5ZXBEOTJX74NH43PEPJA col6VRRNROUN5EPBGG2O4VMSKLCVQ" Invoke="true">
                <xsc:Presentation>seq</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java> + ")): " + e.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="axc6XYNZ22YSZEKDKWH2SWRGBTC6I mthAIARN4PFVBD6HJZSJNZIXYNYAY" Invoke="true">
                <xsc:Presentation>getMessage</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>());
    if (e instanceof </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axcXJP5J6GEPZCERMRA74CCVXC3HI">
                <xsc:Presentation>Exceptions::RuntimeException</xsc:Presentation>
              </xsc:TypeDeclaration>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>)
        throw (</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:TypeDeclaration TypeId="411" Path="axcXJP5J6GEPZCERMRA74CCVXC3HI">
                <xsc:Presentation>Exceptions::RuntimeException</xsc:Presentation>
              </xsc:TypeDeclaration>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>)e;
    throw new </xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="axcTNXCEKEORVFRFDUEZO3MB5REHQ mth5TTUPQZBRBFJPJTYFH3A54IZFY" Invoke="true">
                <xsc:Presentation>AppError</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(e.</xsc:Java>
            </xsc:Item>
            <xsc:Item>
              <xsc:IdReference Path="axc6XYNZ22YSZEKDKWH2SWRGBTC6I mthAIARN4PFVBD6HJZSJNZIXYNYAY" Invoke="true">
                <xsc:Presentation>getMessage</xsc:Presentation>
              </xsc:IdReference>
            </xsc:Item>
            <xsc:Item>
              <xsc:Java>(), e);
}

return null;</xsc:Java>
            </xsc:Item>
          </Src>
        </Sources>
      </Method>
    </Methods>
    <Entity EntityId="tblTDP5BP5ZXBEOTJX74NH43PEPJA"/>
    <Presentations ObjectTitleId="mls4242VD6EORCLZG2IXZU32ZIA3Y">
      <ClassCatalogs>
        <ClassCatalog Id="ecc43F5VMIDUNBFHJWRTDQXYF7H7U" Name="All">
          <AccessRules IsPublished="false"/>
        </ClassCatalog>
      </ClassCatalogs>
      <EditorPresentations>
        <EditorPresentation Id="epr6PETUAPBPVHY5CUGH2CUDNBSWA" Name="General" TitleId="mlsXH4N6TNRLBFTTMWYUVXDMC2VXM" BasePresentationId="eprKOF3CGBDZFDCHLSMRHYGBEA6IE" InheritanceMask="35888" Restrictions="0" EnabledCommandIds="" ReplacedPresentationId="eprKOF3CGBDZFDCHLSMRHYGBEA6IE" RightsInheritanceMode="0">
          <Model Id="aem6PETUAPBPVHY5CUGH2CUDNBSWA" Name="General:Model" Type="15">
            <AccessRules/>
            <Headers>
              <Src Name="Headeraem6PETUAPBPVHY5CUGH2CUDNBSWA"/>
            </Headers>
            <Bodies>
              <Src Name="Bodyaem6PETUAPBPVHY5CUGH2CUDNBSWA"/>
            </Bodies>
            <MethodGroup Id="cmgLX7HM7FFF5DELJV6XFZXLJWAYE" Name="Root"/>
            <PropertyGroup Id="cpgKLQWXZBAUVFWNIBF3D2PE5GT5A" Name="Root"/>
            <Properties/>
            <Methods>
              <Method Id="mthQJLQGY6YVNGKTJDKPGGI2WNZGU" Name="beforeOpenView" Nature="0" IsOverride="true">
                <AccessRules Access="1"/>
                <Sources>
                  <Src>
                    <xsc:Item>
                      <xsc:Java>super.</xsc:Java>
                    </xsc:Item>
                    <xsc:Item>
                      <xsc:IdReference Path="adc24D3IJUTHVH7HJZFW2PSATWURU mthQJLQGY6YVNGKTJDKPGGI2WNZGU" Invoke="true"/>
                    </xsc:Item>
                    <xsc:Item>
                      <xsc:Java>();
if (</xsc:Java>
                    </xsc:Item>
                    <xsc:Item>
                      <xsc:TypeDeclaration TypeId="411" Path="adcPMG2FRWGSBHS3IK5AISG7TEM2E"/>
                    </xsc:Item>
                    <xsc:Item>
                      <xsc:Java>.</xsc:Java>
                    </xsc:Item>
                    <xsc:Item>
                      <xsc:IdReference Path="adcPMG2FRWGSBHS3IK5AISG7TEM2E mth5IFA7B4SPND7HGZGNZ5K3V437Q" Invoke="true"/>
                    </xsc:Item>
                    <xsc:Item>
                      <xsc:Java>(this)) {
    </xsc:Java>
                    </xsc:Item>
                    <xsc:Item>
                      <xsc:IdReference Path="aclLSX3SKWAI5B37FBNJEG7LJSZ4A pruRTARBWVPKJCF3D2LGYY6VEGFNE" Invoke="true"/>
                    </xsc:Item>
                    <xsc:Item>
                      <xsc:Java>.</xsc:Java>
                    </xsc:Item>
                    <xsc:Item>
                      <xsc:IdReference Path="adcYPRT23KRRVAX7AN3727VBD5VI4 mthYNQQVLTKWJAHZB6DDCMLJSOHAI" Invoke="true"/>
                    </xsc:Item>
                    <xsc:Item>
                      <xsc:Java>(false);
}</xsc:Java>
                    </xsc:Item>
                  </Src>
                </Sources>
              </Method>
            </Methods>
          </Model>
          <ChildExplorerItems/>
          <EditorPages>
            <Page Id="epgHUHUDU5BWVB6RAC7LY4CS5A4HQ" Name="General" Type="1" IconId="imgNR7QFTBXXBGAPBO2FULSU63PFY">
              <Properties>
                <Property Id="colZ6M23IG4FBFQNNWLXZAFK3XBAU" Row="1" Column="0"/>
                <Property Id="col6VRRNROUN5EPBGG2O4VMSKLCVQ" Row="0" Column="0"/>
                <Property Id="pruY2JNSTATC5FQTH453TXTCKVBXY" Row="2" Column="0"/>
                <Property Id="pruRTARBWVPKJCF3D2LGYY6VEGFNE" Row="3" Column="0"/>
              </Properties>
            </Page>
            <PageOrder>
              <Item PageId="epgHUHUDU5BWVB6RAC7LY4CS5A4HQ" Level="1"/>
            </PageOrder>
          </EditorPages>
          <ObjectTitleFormat Id="etfYNIRXKDKGJEBJHXZLIXJKJ5ZKQ"/>
        </EditorPresentation>
      </EditorPresentations>
    </Presentations>
    <Extends TypeId="411" Path="aecTDP5BP5ZXBEOTJX74NH43PEPJA"/>
  </AdsClassDefinition>
</AdsDefinition>